webpackJsonp([0],{0:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r(1),r(16);var o=r(19),a=r(95),i=n(a),s=r(246),l=n(s),u=r(285),c=n(u),d=r(287),f=n(d);o.Parse.initialize(c["default"].parse.applicationId,c["default"].parse.javascriptKey),l["default"].run(f["default"],l["default"].HistoryLocation,function(e){return i["default"].render(i["default"].createElement(e,null),document.body)})},1:function(e,t){},16:function(e,t){},285:function(e,t,r){var n=r(286);e.exports={parse:{applicationId:n.applicationId,javascriptKey:n.javascriptKey}}},286:function(e,t){e.exports={appName:"GSIS",applicationId:"yDgxN1LnU0S57foa0TlNfXIPxf5Er1YyZbGmHtXy",javascriptKey:"5kKvWMzYUThMwQG1Laqg2iRGDt5A0f79BObGsNrL"}},287:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(95),a=n(o),i=r(246),s=r(288),l=n(s),u=r(318),c=n(u),d=r(324),f=n(d),p=r(326),h=n(p),m=r(364),v=n(m),g=r(424),y=n(g),b=r(319),w=n(b),k=r(425),O=n(k),_=r(426),P=n(_),E=r(437),C=n(E);e.exports=a["default"].createElement(i.Route,{name:"app",path:"/",handler:l["default"]},a["default"].createElement(i.DefaultRoute,{name:"dashboard",handler:c["default"]}),a["default"].createElement(i.Route,{path:"/admin",handler:f["default"]}),a["default"].createElement(i.Route,{name:"stories",path:"/stories",handler:h["default"]},a["default"].createElement(i.Route,{name:"bookmarkedStories",path:"/stories/bookmarks"})),a["default"].createElement(i.Route,{name:"newStory",path:"/stories/new",handler:C["default"]}),a["default"].createElement(i.Route,{name:"story",path:"/stories/:id",handler:v["default"]}),a["default"].createElement(i.Route,{name:"resetPassword",path:"/forgot",handler:y["default"]}),a["default"].createElement(i.Route,{name:"login",handler:w["default"]}),a["default"].createElement(i.Route,{name:"logout",handler:O["default"]}),a["default"].createElement(i.Route,{name:"editCurrentUser",path:"/me/edit",handler:P["default"]}))},288:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(246),d=r(289),f=n(d),p=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){return u["default"].createElement("div",{className:"app"},u["default"].createElement(f["default"],null),u["default"].createElement(c.RouteHandler,null))}}]),t}(u["default"].Component);t["default"]=p,p.contextTypes={router:u["default"].PropTypes.func},e.exports=t["default"]},289:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(95),a=n(o),i=r(290),s=n(i),l=r(313),u=n(l),c=r(312),d=n(c),f=r(246),p=a["default"].createClass({displayName:"NavigationBar",mixins:[f.State],render:function(){var e=d["default"].loggedIn()?"stories":"dashboard",t=a["default"].createElement(f.Link,{to:e},a["default"].createElement("img",{src:r(316)})),n=void 0,o=void 0;(this.isActive("story")||this.isActive("newStory"))&&(t=a["default"].createElement(f.Link,{className:"back-button",to:"stories"},a["default"].createElement("img",{src:r(317)}),"Back"));var i=a["default"].createElement("form",null,a["default"].createElement("input",{type:"search",placeholder:"Search"}));return o=this.getRoutes()&&"newStory"===this.getRoutes()[1].name?"New Story":i,this.isActive("stories")&&(o=a["default"].createElement("div",{className:"grid-block align-center"},a["default"].createElement("div",{className:"grid-block"},a["default"].createElement("div",{className:"grid-content"},i),a["default"].createElement("div",{className:"medium-6 grid-block"},a["default"].createElement(f.Link,{to:"newStory",className:"create-story button hollow"},"Create Story"))))),n=d["default"].loggedIn()?a["default"].createElement(s["default"],null,a["default"].createElement(u["default"],null,a["default"].createElement(f.Link,{to:"bookmarkedStories"},"Bookmarks")),a["default"].createElement(u["default"],null,a["default"].createElement(f.Link,{to:"editCurrentUser"},"Edit Profile")),a["default"].createElement(u["default"],null,a["default"].createElement(f.Link,{to:"logout"},"Logout"))):a["default"].createElement(s["default"],null,a["default"].createElement(u["default"],null,a["default"].createElement(f.Link,{to:"login"},"Login"))),a["default"].createElement("div",{className:"title-bar"},a["default"].createElement("div",{className:"center title"},o),a["default"].createElement("span",{className:"left"},t),a["default"].createElement("span",{className:"right"},n))}});t["default"]=p,e.exports=t["default"]},290:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=(r(19),r(291)),d=n(c),f=r(311),p=n(f),h=r(312),m=n(h),v=r(313),g=(n(v),r(314)),y=n(g),b=d["default"].Component(u["default"]),w=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={isShowing:!1,user:e.user},this.toggleShowHide=this.toggleShowHide.bind(this)}return a(t,e),i(t,[{key:"observe",value:function(e){return{user:d["default"].currentUser}}},{key:"toggleShowHide",value:function(){this.setState({isShowing:!this.state.isShowing})}},{key:"render",value:function(){var e=void 0,t=this.data.user;return e=m["default"].loggedIn()?u["default"].createElement("li",null,u["default"].createElement("h1",{className:"signed-in"},"Signed in as"),u["default"].createElement("h1",{className:"username"},y["default"].getDisplayName(t))):u["default"].createElement("li",null,u["default"].createElement("h1",{className:"signed-out"},"Guest")),u["default"].createElement("div",null,u["default"].createElement("div",{className:"drop-down-menu",onClick:this.toggleShowHide},u["default"].createElement("img",{className:"avatar",src:y["default"].getAvatar(t)}),u["default"].createElement("ul",{className:p["default"]("sub-menu","text-left",{hide:!this.state.isShowing})},e,this.props.children)))}}]),t}(b);t["default"]=w,e.exports=t["default"]},312:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),o={logIn:function(e,t,r){var o=this;n.Parse.User.logIn(e,t).then(function(){r&&r(!0),o.onChange(!0)},function(e){r&&r(!1),o.onChange(!1)})},logInWithResetPasswordToken:function(e,t){var r=this;n.Parse.Cloud.run("requestToken",{token:e}).then(function(e){return n.Parse.User.become(e)}).then(function(){t&&t(!0),r.onChange(!0)},function(e){t&&t(!1),r.onChange(!1)})},logOut:function(e){var t=this;n.Parse.User.logOut().then(function(){e&&e(),t.onChange(!1)})},loggedIn:function(){return!!n.Parse.User.current()},onChange:function(){}};t["default"]=o,e.exports=t["default"]},313:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=(r(246),function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){return u["default"].createElement("li",{className:"menu-item"},this.props.children)}}]),t}(u["default"].Component));t["default"]=c,e.exports=t["default"]},314:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={getDisplayName:function(e){if(e){if(e.displayName)return e.displayName;if(e.username)return e.username}return"Jane Doe"},getAvatar:function(e){var t=void 0;if(e){if(e.smallAvatar?t=e.smallAvatar:e.largeAvatar&&(t=e.largeAvatar),t&&t._url)return t._url;if(t&&t.url)return t.url}return r(315)}};t["default"]=n,e.exports=t["default"]},315:function(e,t,r){e.exports=r.p+"a5b7d39ee4008b5c51c2d39c84b25647.png"},316:function(e,t,r){e.exports=r.p+"13d8069da9d86ece6770aa992016e68a.svg"},317:function(e,t,r){e.exports=r.p+"5ca2e7e7d2e30c354eeb952639a1e622.svg"},318:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(319),d=n(c),f=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){return u["default"].createElement("div",null,u["default"].createElement(d["default"],null))}}]),t}(u["default"].Component);t["default"]=f,e.exports=t["default"]},319:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(19),d=r(246),f=r(320),p=(n(f),r(321)),h=n(p),m=r(323),v=n(m),g=r(312),y=n(g),b=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.submit=this.submit.bind(this),this.keyDown=this.keyDown.bind(this),this.clickLogin=this.clickLogin.bind(this),this.getEmail=this.getEmail.bind(this),this.toggleGoogleLogin=this.toggleGoogleLogin.bind(this),this.state={error:null}}return a(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;y["default"].loggedIn()?this.context.router.transitionTo("stories"):(h["default"].on("auth.login",function(t){h["default"](t.network).api("/me").then(function(t){e.setCurrentUser(t.email)})}),h["default"].init({google:"410488590343-jkvabi78vvd7gejnlpl7bpu1omplgfi4.apps.googleusercontent.com"},{redirect_uri:"login"}))}},{key:"render",value:function(){var e=void 0;return this.state.error&&(e=u["default"].createElement(v["default"],{messages:[this.state.error]})),u["default"].createElement("form",{className:"session grid-block",onKeyDown:this.keyDown},u["default"].createElement("div",{className:"grid-container small-18"},u["default"].createElement("h1",null,"Login"),u["default"].createElement("input",{ref:"email",className:"email",type:"email",placeholder:"your@email.com"}),u["default"].createElement("input",{ref:"password",className:"password",type:"password",placeholder:"password"}),u["default"].createElement("div",{className:"grid-block align-right"},u["default"].createElement("input",{className:"button login-google",type:"submit",value:"Google",onClick:this.toggleGoogleLogin}),u["default"].createElement("input",{className:"button login-password",type:"submit",value:"Login",onClick:this.clickLogin})),u["default"].createElement("div",{className:"grid-block align-right"},u["default"].createElement(d.Link,{to:"resetPassword"},"Forgot my password")),e))}},{key:"getEmail",value:function(){return u["default"].findDOMNode(this.refs.email).value}},{key:"toggleGoogleLogin",value:function(e){e.preventDefault(),h["default"].login("google",{scope:"email"})}},{key:"setCurrentUser",value:function(e){var t=this;c.Parse.Cloud.run("getUserSessionToken",{email:e}).then(function(e){return c.Parse.User.become(e)}).then(function(){t.context.router.transitionTo("stories")},function(e){t.context.router.transitionTo("login")})}},{key:"submit",value:function(){var e=this,t=this.getEmail(),r=u["default"].findDOMNode(this.refs.password).value;return t||r?t?r?void y["default"].logIn(t,r,function(t){t?(e.setState({error:null}),e.context.router.transitionTo("stories")):e.setState({error:"Email / Password combination is incorrect"})}):void this.setState({error:"Please fill in password"}):void this.setState({error:"Please fill in email"}):void this.setState({error:"Please fill in email and password"})}},{key:"keyDown",value:function(e){13===e.keyCode&&this.clickLogin(e)}},{key:"clickLogin",value:function(e){e.preventDefault(),this.submit()}}],[{key:"willTransitionTo",value:function(e,t,r,n){r&&r.token?y["default"].logInWithResetPasswordToken(r.token,function(t){t?(e.redirect("stories"),n()):(e.redirect("login"),n())}):n()}}]),t}(u["default"].Component);t["default"]=b,b.contextTypes={router:u["default"].PropTypes.func},e.exports=t["default"]},321:function(e,t,r){var n;(function(o,a){/*! hellojs v1.9.6 | (c) 2012-2015 Andrew Dodson | MIT https://adodson.com/hello.js/LICENSE */
Object.create||(Object.create=function(){function e(){}return function(t){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Object.keys||(Object.keys=function(e,t,r){r=[];for(t in e)r.hasOwnProperty.call(e,t)&&r.push(t);return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=arguments.length>=2?arguments[1]:void 0,o=0;r>o;o++)o in t&&e.call(n,t[o],o,t);return this}),Array.prototype.filter||(Array.prototype.filter=function(e,t){var r=[];return this.forEach(function(n,o,a){e.call(t||void 0,n,o,a)&&r.push(n)}),r}),Array.prototype.map||(Array.prototype.map=function(e,t){var r=[];return this.forEach(function(n,o,a){r.push(e.call(t||void 0,n,o,a))}),r}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"object"!=typeof window||"object"!=typeof window.location||window.location.assign||(window.location.assign=function(e){window.location=e}),Function.prototype.bind||(Function.prototype.bind=function(e){function t(){}if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var r=[].slice,n=r.call(arguments,1),o=this,a=function(){return o.apply(this instanceof t?this:e||window,n.concat(r.call(arguments)))};return t.prototype=this.prototype,a.prototype=new t,a});/**
	 * @hello.js
	 *
	 * HelloJS is a client side Javascript SDK for making OAuth2 logins and subsequent REST calls.
	 *
	 * @author Andrew Dodson
	 * @website https://adodson.com/hello.js/
	 *
	 * @copyright Andrew Dodson, 2012 - 2015
	 * @license MIT: You are free to use and modify this code for any use, on the condition that this copyright notice remains.
	 */
var i=function(e){return i.use(e)};i.utils={extend:function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(e instanceof Object&&t instanceof Object&&e!==t)for(var r in t)e[r]=i.utils.extend(e[r],t[r]);else e=t}),e}},i.utils.extend(i,{settings:{redirect_uri:window.location.href.split("#")[0],response_type:"token",display:"popup",state:"",oauth_proxy:"https://auth-server.herokuapp.com/proxy",timeout:2e4,popup:{resizable:1,scrollbars:1,width:500,height:550},default_service:null,force:null,page_uri:window.location.href},services:{},use:function(e){var t=Object.create(this);return t.settings=Object.create(this.settings),e&&(t.settings.default_service=e),t.utils.Event.call(t),t},init:function(e,t){var r=this.utils;if(!e)return this.services;for(var n in e)e.hasOwnProperty(n)&&"object"!=typeof e[n]&&(e[n]={id:e[n]});r.extend(this.services,e);for(n in this.services)this.services.hasOwnProperty(n)&&(this.services[n].scope=this.services[n].scope||{});return t&&(r.extend(this.settings,t),"redirect_uri"in t&&(this.settings.redirect_uri=r.url(t.redirect_uri).href)),this},login:function(){function e(e,t){i.emit(e,t)}function t(e){return e}function r(e){return!!e}var n,o=this,a=o.utils,s=a.error,l=a.Promise(),u=a.args({network:"s",options:"o",callback:"f"},arguments),c=a.diffKey(u.options,o.settings),d=u.options=a.merge(o.settings,u.options||{});if(d.popup=a.merge(o.settings.popup,u.options.popup||{}),u.network=u.network||o.settings.default_service,l.proxy.then(u.callback,u.callback),l.proxy.then(e.bind(this,"auth.login auth"),e.bind(this,"auth.failed auth")),"string"!=typeof u.network||!(u.network in o.services))return l.reject(s("invalid_network","The provided network was not recognized"));var f=o.services[u.network],p=a.globalEvent(function(e){var t;t=e?JSON.parse(e):s("cancelled","The authentication was not completed"),t.error?l.reject(t):(a.store(t.network,t),l.fulfill({network:t.network,authResponse:t}))}),h=a.url(d.redirect_uri).href,m=f.oauth.response_type||d.response_type;/\bcode\b/.test(m)&&!f.oauth.grant&&(m=m.replace(/\bcode\b/,"token")),u.qs=a.merge(c,{client_id:encodeURIComponent(f.id),response_type:encodeURIComponent(m),redirect_uri:encodeURIComponent(h),display:d.display,scope:"basic",state:{client_id:f.id,network:u.network,display:d.display,callback:p,state:d.state,redirect_uri:h}});var v=a.store(u.network),g=/[,\s]+/,y=(d.scope||"").toString()+","+u.qs.scope;if(v&&"scope"in v&&v.scope instanceof String&&(y+=","+v.scope),y=y.split(g),y=a.unique(y).filter(r),u.qs.state.scope=y.join(","),y=y.map(function(e){if(e in f.scope)return f.scope[e];for(var t in o.services){var r=o.services[t].scope;if(r&&e in r)return""}return e}),y=y.join(",").split(g),y=a.unique(y).filter(r),u.qs.scope=y.join(f.scope_delim||","),d.force===!1&&v&&"access_token"in v&&v.access_token&&"expires"in v&&v.expires>(new Date).getTime()/1e3){var b=a.diff((v.scope||"").split(g),(u.qs.state.scope||"").split(g));if(0===b.length)return l.fulfill({unchanged:!0,network:u.network,authResponse:v}),l}if("page"===d.display&&d.page_uri&&(u.qs.state.page_uri=a.url(d.page_uri).href),"login"in f&&"function"==typeof f.login&&f.login(u),(!/\btoken\b/.test(m)||parseInt(f.oauth.version,10)<2||"none"===d.display&&f.oauth.grant&&v&&v.refresh_token)&&(u.qs.state.oauth=f.oauth,u.qs.state.oauth_proxy=d.oauth_proxy),u.qs.state=encodeURIComponent(JSON.stringify(u.qs.state)),1===parseInt(f.oauth.version,10)?n=a.qs(d.oauth_proxy,u.qs,t):"none"===d.display&&f.oauth.grant&&v&&v.refresh_token?(u.qs.refresh_token=v.refresh_token,n=a.qs(d.oauth_proxy,u.qs,t)):n=a.qs(f.oauth.auth,u.qs,t),"none"===d.display)a.iframe(n,h);else if("popup"===d.display)var w=a.popup(n,h,d.popup),k=setInterval(function(){if((!w||w.closed)&&(clearInterval(k),!l.state)){var e=s("cancelled","Login has been cancelled");w||(e=s("blocked","Popup was blocked")),e.network=u.network,l.reject(e)}},100);else window.location=n;return l.proxy},logout:function(){function e(e,t){i.emit(e,t)}var t=this,r=t.utils,n=r.error,o=r.Promise(),a=r.args({name:"s",options:"o",callback:"f"},arguments);if(a.options=a.options||{},o.proxy.then(a.callback,a.callback),o.proxy.then(e.bind(this,"auth.logout auth"),e.bind(this,"error")),a.name=a.name||this.settings.default_service,a.authResponse=r.store(a.name),!a.name||a.name in t.services)if(a.name&&a.authResponse){var s=function(e){r.store(a.name,""),o.fulfill(i.utils.merge({network:a.name},e||{}))},l={};if(a.options.force){var u=t.services[a.name].logout;if(u)if("function"==typeof u&&(u=u(s,a)),"string"==typeof u)r.iframe(u),l.force=null,l.message="Logout success on providers site was indeterminate";else if(void 0===u)return o.proxy}s(l)}else o.reject(n("invalid_session","There was no session to remove"));else o.reject(n("invalid_network","The network was unrecognized"));return o.proxy},getAuthResponse:function(e){return e=e||this.settings.default_service,e&&e in this.services?this.utils.store(e)||null:null},events:{}}),i.utils.extend(i.utils,{error:function(e,t){return{error:{code:e,message:t}}},qs:function(e,t,r){if(t){r=r||encodeURIComponent;for(var n in t){var o="([\\?\\&])"+n+"=[^\\&]*";reg=new RegExp(o),e.match(reg)&&(e=e.replace(reg,"$1"+n+"="+r(t[n])),delete t[n])}}return this.isEmpty(t)?e:e+(e.indexOf("?")>-1?"&":"?")+this.param(t,r)},param:function(e,t){var r,n,o={};if("string"==typeof e){if(t=t||decodeURIComponent,n=e.replace(/^[\#\?]/,"").match(/([^=\/\&]+)=([^\&]+)/g))for(var a=0;a<n.length;a++)r=n[a].match(/([^=]+)=(.*)/),o[r[1]]=t(r[2]);return o}t=t||encodeURIComponent;var i=e;o=[];for(var s in i)i.hasOwnProperty(s)&&i.hasOwnProperty(s)&&o.push([s,"?"===i[s]?"?":t(i[s])].join("="));return o.join("&")},store:function(){function e(){var e={};try{e=JSON.parse(r.getItem("hello"))||{}}catch(t){}return e}function t(e){r.setItem("hello",JSON.stringify(e))}for(var r,n=["localStorage","sessionStorage"],o=-1,a="test";n[++o];)try{r=window[n[o]],r.setItem(a+o,o),r.removeItem(a+o);break}catch(i){r=null}if(!r){var s=null;r={getItem:function(e){e+="=";for(var t=document.cookie.split(";"),r=0;r<t.length;r++){var n=t[r].replace(/(^\s+|\s+$)/,"");if(n&&0===n.indexOf(e))return n.substr(e.length)}return s},setItem:function(e,t){s=t,document.cookie=e+"="+t}},s=r.getItem("hello")}return function(r,n,o){var a=e();if(r&&void 0===n)return a[r]||null;if(r&&null===n)try{delete a[r]}catch(i){a[r]=null}else{if(!r)return a;a[r]=n}return t(a),a||null}}(),append:function(e,t,r){var n="string"==typeof e?document.createElement(e):e;if("object"==typeof t)if("tagName"in t)r=t;else for(var o in t)if(t.hasOwnProperty(o))if("object"==typeof t[o])for(var a in t[o])t[o].hasOwnProperty(a)&&(n[o][a]=t[o][a]);else"html"===o?n.innerHTML=t[o]:/^on/.test(o)?n[o]=t[o]:n.setAttribute(o,t[o]);return"body"===r?!function i(){document.body?document.body.appendChild(n):setTimeout(i,16)}():"object"==typeof r?r.appendChild(n):"string"==typeof r&&document.getElementsByTagName(r)[0].appendChild(n),n},iframe:function(e){this.append("iframe",{src:e,style:{position:"absolute",left:"-1000px",bottom:0,height:"1px",width:"1px"}},"body")},merge:function(){var e=Array.prototype.slice.call(arguments);return e.unshift({}),this.extend.apply(null,e)},args:function(e,t){var r={},n=0,o=null,a=null;for(a in e)if(e.hasOwnProperty(a))break;if(1===t.length&&"object"==typeof t[0]&&"o!"!=e[a])for(a in t[0])if(e.hasOwnProperty(a)&&a in e)return t[0];for(a in e)if(e.hasOwnProperty(a))if(o=typeof t[n],"function"==typeof e[a]&&e[a].test(t[n])||"string"==typeof e[a]&&(e[a].indexOf("s")>-1&&"string"===o||e[a].indexOf("o")>-1&&"object"===o||e[a].indexOf("i")>-1&&"number"===o||e[a].indexOf("a")>-1&&"object"===o||e[a].indexOf("f")>-1&&"function"===o))r[a]=t[n++];else if("string"==typeof e[a]&&e[a].indexOf("!")>-1)return!1;return r},url:function(e){if(e){if(window.URL&&URL instanceof Function&&0!==URL.length)return new URL(e,window.location);var t=document.createElement("a");return t.href=e,t}return window.location},diff:function(e,t){return t.filter(function(t){return-1===e.indexOf(t)})},diffKey:function(e,t){if(e||!t){var r={};for(var n in e)n in t||(r[n]=e[n]);return r}return e},unique:function(e){return Array.isArray(e)?e.filter(function(t,r){return e.indexOf(t)===r}):[]},isEmpty:function(e){if(!e)return!0;if(Array.isArray(e))return!e.length;if("object"==typeof e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},/*!
		 **  Thenable -- Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
		 **  Copyright (c) 2013-2014 Ralf S. Engelschall <http://engelschall.com>
		 **  Licensed under The MIT License <http://opensource.org/licenses/MIT>
		 **  Source-Code distributed on <http://github.com/rse/thenable>
		 */
Promise:function(){var e=0,t=1,r=2,n=function(t){return this instanceof n?(this.id="Thenable/1.0.6",this.state=e,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},void("function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this)))):new n(t)};n.prototype={fulfill:function(e){return i(this,t,"fulfillValue",e)},reject:function(e){return i(this,r,"rejectReason",e)},then:function(e,t){var r=this,o=new n;return r.onFulfilled.push(u(e,o,"fulfill")),r.onRejected.push(u(t,o,"reject")),s(r),o.proxy}};var i=function(t,r,n,o){return t.state===e&&(t.state=r,t[n]=o,s(t)),t},s=function(e){e.state===t?l(e,"onFulfilled",e.fulfillValue):e.state===r&&l(e,"onRejected",e.rejectReason)},l=function(e,t,r){if(0!==e[t].length){var n=e[t];e[t]=[];var i=function(){for(var e=0;e<n.length;e++)n[e](r)};"object"==typeof o&&"function"==typeof o.nextTick?o.nextTick(i):"function"==typeof a?a(i):setTimeout(i,0)}},u=function(e,t,r){return function(n){if("function"!=typeof e)t[r].call(t,n);else{var o;try{o=e(n)}catch(a){return void t.reject(a)}c(t,o)}}},c=function(e,t){if(e===t||e.proxy===t)return void e.reject(new TypeError("cannot resolve promise with itself"));var r;if("object"==typeof t&&null!==t||"function"==typeof t)try{r=t.then}catch(n){return void e.reject(n)}if("function"!=typeof r)e.fulfill(t);else{var o=!1;try{r.call(t,function(r){o||(o=!0,r===t?e.reject(new TypeError("circular thenable chain")):c(e,r))},function(t){o||(o=!0,e.reject(t))})}catch(n){o||e.reject(n)}}};return n}(),Event:function(){var e=/[\s\,]+/;return this.parent={events:this.events,findEvents:this.findEvents,parent:this.parent,utils:this.utils},this.events={},this.on=function(t,r){if(r&&"function"==typeof r)for(var n=t.split(e),o=0;o<n.length;o++)this.events[n[o]]=[r].concat(this.events[n[o]]||[]);return this},this.off=function(e,t){return this.findEvents(e,function(e,r){t&&this.events[e][r]!==t||(this.events[e][r]=null)}),this},this.emit=function(e){var t=Array.prototype.slice.call(arguments,1);t.push(e);for(var r=function(r,n){t[t.length-1]="*"===r?e:r,this.events[r][n].apply(this,t)},n=this;n&&n.findEvents;)n.findEvents(e+",*",r),n=n.parent;return this},this.emitAfter=function(){var e=this,t=arguments;return setTimeout(function(){e.emit.apply(e,t)},0),this},this.findEvents=function(t,r){var n=t.split(e);for(var o in this.events)if(this.events.hasOwnProperty(o)&&n.indexOf(o)>-1)for(var a=0;a<this.events[o].length;a++)this.events[o][a]&&r.call(this,o,a)},this},globalEvent:function(e,t){return t=t||"_hellojs_"+parseInt(1e12*Math.random(),10).toString(36),window[t]=function(){try{e.apply(this,arguments)&&delete window[t]}catch(r){console.error(r)}},t},popup:function(e,t,r){var n=document.documentElement;if(r.height){var o=void 0!==window.screenTop?window.screenTop:screen.top,a=screen.height||window.innerHeight||n.clientHeight;r.top=parseInt((a-r.height)/2,10)+o}if(r.width){var s=void 0!==window.screenLeft?window.screenLeft:screen.left,l=screen.width||window.innerWidth||n.clientWidth;r.left=parseInt((l-r.width)/2,10)+s}var u=[];Object.keys(r).forEach(function(e){var t=r[e];u.push(e+(null!==t?"="+t:""))});var c=function(e){var r=window.open(e,"_blank",u.join(","));try{if(r&&r.addEventListener){var n=i.utils.url(t),o=n.origin||n.protocol+"//"+n.hostname;r.addEventListener("loadstart",function(e){var t=e.url;if(0===t.indexOf(o)){var n=i.utils.url(t),a={location:{assign:function(e){r.addEventListener("exit",function(){setTimeout(function(){c(e)},1e3)})},search:n.search,hash:n.hash,href:n.href},close:function(){r.close&&r.close()}};i.utils.responseHandler(a,window),a.close()}})}}catch(a){}return r&&r.focus&&r.focus(),r};return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&(e=t+"#oauth_redirect="+encodeURIComponent(encodeURIComponent(e))),c(e)},responseHandler:function(e,t){function r(e,t,r){var o=e.callback,i=e.network;if(a.store(i,e),!("display"in e&&"page"===e.display)){if(r&&o&&o in r){try{delete e.callback}catch(s){}a.store(i,e);var l=JSON.stringify(e);try{r[o](l)}catch(s){}}n()}}function n(){try{e.close()}catch(t){}e.addEventListener&&e.addEventListener("load",function(){e.close()})}var o,a=this,i=e.location;if(o=a.param(i.search),o&&o.state&&(o.code||o.oauth_token)){var s=JSON.parse(o.state);o.redirect_uri=s.redirect_uri||i.href.replace(/[\?\#].*$/,"");var l=s.oauth_proxy+"?"+a.param(o);return void i.assign(l)}if(o=a.merge(a.param(i.search||""),a.param(i.hash||"")),o&&"state"in o){try{var u=JSON.parse(o.state);a.extend(o,u)}catch(c){console.error("Could not decode state parameter")}if("access_token"in o&&o.access_token&&o.network)o.expires_in&&0!==parseInt(o.expires_in,10)||(o.expires_in=0),o.expires_in=parseInt(o.expires_in,10),o.expires=(new Date).getTime()/1e3+(o.expires_in||31536e3),r(o,e,t);else if("error"in o&&o.error&&o.network)o.error={code:o.error,message:o.error_message||o.error_description},r(o,e,t);else if(o.callback&&o.callback in t){var d="result"in o&&o.result?JSON.parse(o.result):!1;t[o.callback](d),n()}o.page_uri&&i.assign(o.page_uri)}else if("oauth_redirect"in o)return void i.assign(decodeURIComponent(o.oauth_redirect))}}),i.utils.Event.call(i),i.utils.responseHandler(window,window.opener||window.parent),function(e){var t={},r={};e.on("auth.login, auth.logout",function(r){r&&"object"==typeof r&&r.network&&(t[r.network]=e.utils.store(r.network)||{})}),function n(){var o=(new Date).getTime()/1e3,a=function(t){e.emit("auth."+t,{network:i,authResponse:s})};for(var i in e.services)if(e.services.hasOwnProperty(i)){if(!e.services[i].id)continue;var s=e.utils.store(i)||{},l=e.services[i],u=t[i]||{};if(s&&"callback"in s){var c=s.callback;try{delete s.callback}catch(d){}e.utils.store(i,s);try{window[c](s)}catch(d){}}if(s&&"expires"in s&&s.expires<o){var f=l.refresh||s.refresh_token;!f||i in r&&!(r[i]<o)?f||i in r||(a("expired"),r[i]=!0):(e.emit("notice",i+" has expired trying to resignin"),e.login(i,{display:"none",force:!1}),r[i]=o+600);continue}if(u.access_token===s.access_token&&u.expires===s.expires)continue;!s.access_token&&u.access_token?a("logout"):s.access_token&&!u.access_token?a("login"):s.expires!==u.expires&&a("update"),t[i]=s,i in r&&delete r[i]}setTimeout(n,1e3)}()}(i),i.api=function(){function e(e){e=e.replace(/\@\{([a-z\_\-]+)(\|.*?)?\}/gi,function(e,t,r){var i=r?r.replace(/^\|/,""):"";return t in a.query?(i=a.query[t],delete a.query[t]):a.data&&t in a.data?(i=a.data[t],delete a.data[t]):r||o.reject(n("missing_attribute","The attribute "+t+" is missing from the request")),i}),e.match(/^https?:\/\//)||(e=u.base+e),a.url=e,r.request(a,function(e,t){if(!a.formatResponse)return void(("object"==typeof t?t.statusCode>=400:"object"==typeof e&&"error"in e)?o.reject(e):o.fulfill(e));if(e===!0?e={success:!0}:e||(e={}),"delete"===a.method&&(e=!e||r.isEmpty(e)?{success:!0}:e),u.wrap&&(a.path in u.wrap||"default"in u.wrap)){var n=a.path in u.wrap?a.path:"default",i=((new Date).getTime(),u.wrap[n](e,t,a));i&&(e=i)}e&&"paging"in e&&e.paging.next&&("?"===e.paging.next[0]?e.paging.next=a.path+e.paging.next:e.paging.next+="#"+a.path),!e||"error"in e?o.reject(e):o.fulfill(e)})}var t=this,r=t.utils,n=r.error,o=r.Promise(),a=r.args({path:"s!",query:"o",method:"s",data:"o",timeout:"i",callback:"f"},arguments);a.method=(a.method||"get").toLowerCase(),a.headers=a.headers||{},a.query=a.query||{},("get"===a.method||"delete"===a.method)&&(r.extend(a.query,a.data),a.data={});var i=a.data=a.data||{};if(o.then(a.callback,a.callback),!a.path)return o.reject(n("invalid_path","Missing the path parameter from the request"));a.path=a.path.replace(/^\/+/,"");var s=(a.path.split(/[\/\:]/,2)||[])[0].toLowerCase();if(s in t.services){a.network=s;var l=new RegExp("^"+s+":?/?");a.path=a.path.replace(l,"")}a.network=t.settings.default_service=a.network||t.settings.default_service;var u=t.services[a.network];if(!u)return o.reject(n("invalid_network","Could not match the service requested: "+a.network));if(a.method in u&&a.path in u[a.method]&&u[a.method][a.path]===!1)return o.reject(n("invalid_path","The provided path is not available on the selected network"));a.oauth_proxy||(a.oauth_proxy=t.settings.oauth_proxy),"proxy"in a||(a.proxy=a.oauth_proxy&&u.oauth&&1===parseInt(u.oauth.version,10)),"timeout"in a||(a.timeout=t.settings.timeout),"formatResponse"in a||(a.formatResponse=!0),a.authResponse=t.getAuthResponse(a.network),a.authResponse&&a.authResponse.access_token&&(a.query.access_token=a.authResponse.access_token);var c,d=a.path;a.options=r.clone(a.query),a.data=r.clone(i);var f=u[{"delete":"del"}[a.method]||a.method]||{};if("get"===a.method){var p=d.split(/[\?#]/)[1];p&&(r.extend(a.query,r.param(p)),d=d.replace(/\?.*?(#|$)/,"$1"))}return(c=d.match(/#(.+)/,""))?(d=d.split("#")[0],a.path=c[1]):d in f?(a.path=d,d=f[d]):"default"in f&&(d=f["default"]),a.redirect_uri=t.settings.redirect_uri,a.xhr=u.xhr,a.jsonp=u.jsonp,a.form=u.form,"function"==typeof d?d(a,e):e(d),o.proxy},i.utils.extend(i.utils,{request:function(e,t){function r(e,t){var r;e.authResponse&&e.authResponse.oauth&&1===parseInt(e.authResponse.oauth.version,10)&&(r=e.query.access_token,delete e.query.access_token,e.proxy=!0),!e.data||"get"!==e.method&&"delete"!==e.method||(n.extend(e.query,e.data),e.data=null);var o=n.qs(e.url,e.query);e.proxy&&(o=n.qs(e.oauth_proxy,{path:o,access_token:r||"",then:e.proxy_response_type||("get"===e.method.toLowerCase()?"redirect":"proxy"),method:e.method.toLowerCase(),suppress_response_codes:!0})),t(o)}var n=this,o=n.error;n.isEmpty(e.data)||"FileList"in window||!n.hasBinary(e.data)||(e.xhr=!1,e.jsonp=!1);var a=this.request_cors(function(){return void 0===e.xhr||e.xhr&&("function"!=typeof e.xhr||e.xhr(e,e.query))});if(a)return void r(e,function(r){var o=n.xhr(e.method,r,e.headers,e.data,t);o.onprogress=e.onprogress||null,o.upload&&e.onuploadprogress&&(o.upload.onprogress=e.onuploadprogress)});var i=e.query;if(e.query=n.clone(e.query),e.callbackID=n.globalEvent(),e.jsonp!==!1){if(e.query.callback=e.callbackID,"function"==typeof e.jsonp&&e.jsonp(e,e.query),"get"===e.method)return void r(e,function(r){n.jsonp(r,t,e.callbackID,e.timeout)});e.query=i}if(e.form!==!1){e.query.redirect_uri=e.redirect_uri,e.query.state=JSON.stringify({callback:e.callbackID});var s;if("function"==typeof e.form&&(s=e.form(e,e.query)),"post"===e.method&&s!==!1)return void r(e,function(r){n.post(r,e.data,s,t,e.callbackID,e.timeout)})}t(o("invalid_request","There was no mechanism for handling this request"))},request_cors:function(e){return"withCredentials"in new XMLHttpRequest&&e()},domInstance:function(e,t){var r="HTML"+(e||"").replace(/^[a-z]/,function(e){return e.toUpperCase()})+"Element";return t?window[r]?t instanceof window[r]:window.Element?t instanceof window.Element&&(!e||t.tagName&&t.tagName.toLowerCase()===e):!(t instanceof Object||t instanceof Array||t instanceof String||t instanceof Number)&&t.tagName&&t.tagName.toLowerCase()===e:!1},clone:function(e){if(null===e||"object"!=typeof e||e instanceof Date||"nodeName"in e||this.isBinary(e))return e;if(Array.isArray(e))return e.map(this.clone.bind(this));var t={};for(var r in e)t[r]=this.clone(e[r]);return t},xhr:function(e,t,r,n,o){function a(e){for(var t,r={},n=/([a-z\-]+):\s?(.*);?/gi;t=n.exec(e);)r[t[1]]=t[2];return r}var i=new XMLHttpRequest,s=this.error,l=!1;"blob"===e&&(l=e,e="GET"),e=e.toUpperCase(),i.onload=function(t){var r=i.response;try{r=JSON.parse(i.responseText)}catch(n){401===i.status&&(r=s("access_denied",i.statusText))}var l=a(i.getAllResponseHeaders());l.statusCode=i.status,o(r||("GET"===e?s("empty_response","Could not get resource"):{}),l)},i.onerror=function(e){var t=i.responseText;try{t=JSON.parse(i.responseText)}catch(r){}o(t||s("access_denied","Could not get resource"))};var u;if("GET"===e||"DELETE"===e)n=null;else if(n&&"string"!=typeof n&&!(n instanceof FormData)&&!(n instanceof File)&&!(n instanceof Blob)){var c=new FormData;for(u in n)n.hasOwnProperty(u)&&(n[u]instanceof HTMLInputElement?"files"in n[u]&&n[u].files.length>0&&c.append(u,n[u].files[0]):n[u]instanceof Blob?c.append(u,n[u],n.name):c.append(u,n[u]));n=c}if(i.open(e,t,!0),l&&("responseType"in i?i.responseType=l:i.overrideMimeType("text/plain; charset=x-user-defined")),r)for(u in r)i.setRequestHeader(u,r[u]);return i.send(n),i},jsonp:function(e,t,r,n){var o,a=this,i=a.error,s=0,l=document.getElementsByTagName("head")[0],u=i("server_error","server_error"),c=function(){s++||window.setTimeout(function(){t(u),l.removeChild(d)},0)};r=a.globalEvent(function(e){return u=e,!0},r),e=e.replace(new RegExp("=\\?(&|$)"),"="+r+"$1");var d=a.append("script",{id:r,name:r,src:e,async:!0,onload:c,onerror:c,onreadystatechange:function(){/loaded|complete/i.test(this.readyState)&&c()}});window.navigator.userAgent.toLowerCase().indexOf("opera")>-1&&(o=a.append("script",{text:"document.getElementById('"+callbackId+"').onerror();"}),d.async=!1),n&&window.setTimeout(function(){u=i("timeout","timeout"),c()},n),l.appendChild(d),o&&l.appendChild(o)},post:function(e,t,r,n,o,a){var i,s=this,l=s.error,u=document,c=null,d=[],f=0,p=null,h=0,m=function(e){h++||n(e)};s.globalEvent(m,o);var v;try{v=u.createElement('<iframe name="'+o+'">')}catch(g){v=u.createElement("iframe")}if(v.name=o,v.id=o,v.style.display="none",r&&r.callbackonload&&(v.onload=function(){m({response:"posted",message:"Content was posted"})}),a&&setTimeout(function(){m(l("timeout","The post operation timed out"))},a),u.body.appendChild(v),s.domInstance("form",t)){for(c=t.form,f=0;f<c.elements.length;f++)c.elements[f]!==t&&c.elements[f].setAttribute("disabled",!0);t=c}if(s.domInstance("form",t))for(c=t,f=0;f<c.elements.length;f++)c.elements[f].disabled||"file"!==c.elements[f].type||(c.encoding=c.enctype="multipart/form-data",c.elements[f].setAttribute("name","file"));else{for(p in t)t.hasOwnProperty(p)&&s.domInstance("input",t[p])&&"file"===t[p].type&&(c=t[p].form,c.encoding=c.enctype="multipart/form-data");c||(c=u.createElement("form"),u.body.appendChild(c),i=c);var y;for(p in t)if(t.hasOwnProperty(p)){var b=s.domInstance("input",t[p])||s.domInstance("textArea",t[p])||s.domInstance("select",t[p]);if(b&&t[p].form===c)b&&t[p].name!==p&&(t[p].setAttribute("name",p),t[p].name=p);else{var w=c.elements[p];if(y)for(w instanceof NodeList||(w=[w]),f=0;f<w.length;f++)w[f].parentNode.removeChild(w[f]);y=u.createElement("input"),y.setAttribute("type","hidden"),y.setAttribute("name",p),b?y.value=t[p].value:s.domInstance(null,t[p])?y.value=t[p].innerHTML||t[p].innerText:y.value=t[p],c.appendChild(y)}}for(f=0;f<c.elements.length;f++)y=c.elements[f],y.name in t||y.getAttribute("disabled")===!0||(y.setAttribute("disabled",!0),d.push(y))}c.setAttribute("method","POST"),c.setAttribute("target",o),c.target=o,c.setAttribute("action",e),setTimeout(function(){c.submit(),setTimeout(function(){try{i&&i.parentNode.removeChild(i)}catch(e){try{console.error("HelloJS: could not remove iframe")}catch(t){}}for(var r=0;r<d.length;r++)d[r]&&(d[r].setAttribute("disabled",!1),d[r].disabled=!1)},0)},100)},hasBinary:function(e){for(var t in e)if(e.hasOwnProperty(t)&&this.isBinary(e[t]))return!0;return!1},isBinary:function(e){return e instanceof Object&&(this.domInstance("input",e)&&"file"===e.type||"FileList"in window&&e instanceof window.FileList||"File"in window&&e instanceof window.File||"Blob"in window&&e instanceof window.Blob)},toBlob:function(e){var t=/^data\:([^;,]+(\;charset=[^;,]+)?)(\;base64)?,/i,r=e.match(t);if(!r)return e;for(var n=atob(e.replace(t,"")),o=[],a=0;a<n.length;a++)o.push(n.charCodeAt(a));return new Blob([new Uint8Array(o)],{type:r[1]})}}),function(e){var t=e.api,r=e.utils;r.extend(r,{dataToJSON:function(e){var t=this,r=window,n=e.data;if(t.domInstance("form",n)?n=t.nodeListToJSON(n.elements):"NodeList"in r&&n instanceof NodeList?n=t.nodeListToJSON(n):t.domInstance("input",n)&&(n=t.nodeListToJSON([n])),("File"in r&&n instanceof r.File||"Blob"in r&&n instanceof r.Blob||"FileList"in r&&n instanceof r.FileList)&&(n={file:n}),!("FormData"in r&&n instanceof r.FormData))for(var o in n)if(n.hasOwnProperty(o))if("FileList"in r&&n[o]instanceof r.FileList)1===n[o].length&&(n[o]=n[o][0]);else{if(t.domInstance("input",n[o])&&"file"===n[o].type)continue;t.domInstance("input",n[o])||t.domInstance("select",n[o])||t.domInstance("textArea",n[o])?n[o]=n[o].value:t.domInstance(null,n[o])&&(n[o]=n[o].innerHTML||n[o].innerText)}return e.data=n,n},nodeListToJSON:function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];!n.disabled&&n.name&&("file"===n.type?t[n.name]=n:t[n.name]=n.value||n.innerHTML)}return t}}),e.api=function(){var e=r.args({path:"s!",method:"s",data:"o",timeout:"i",callback:"f"},arguments);return e.data&&r.dataToJSON(e),t.call(this,e)}}(i),"object"==typeof chrome&&"object"==typeof chrome.identity&&chrome.identity.launchWebAuthFlow&&!function(){function e(t,r){var n={closed:!1};return chrome.identity.launchWebAuthFlow({url:t,interactive:r},function(t){if(void 0===t)return void(n.closed=!0);var r=i.utils.url(t),o={location:{assign:function(t){e(t,!1)},search:r.search,hash:r.hash,href:r.href},close:function(){}};i.utils.responseHandler(o,window)}),n}i.utils.popup=function(t){return e(t,!0)},i.utils.iframe=function(t){e(t,!1)},i.utils.request_cors=function(e){return e(),!0};var t={};chrome.storage.local.get("hello",function(e){t=e.hello}),i.utils.store=function(e,r){return 0===arguments.length?t:1===arguments.length?t[e]||null:r?(t[e]=r,chrome.storage.local.set({hello:t}),r):null===r?(delete t[e],chrome.storage.local.set({hello:t}),null):void 0}}(),function(e){function t(e){e&&"error"in e&&(e.error={code:"server_error",message:e.error.message||e.error})}function r(t,r,n){if(!("object"!=typeof t||"undefined"!=typeof Blob&&t instanceof Blob||"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"error"in t)){var o=("app_folder"!==t.root?t.root:"")+t.path.replace(/\&/g,"%26");o=o.replace(/^\//,""),t.thumb_exists&&(t.thumbnail=n.oauth_proxy+"?path="+encodeURIComponent("https://api-content.dropbox.com/1/thumbnails/auto/"+o+"?format=jpeg&size=m")+"&access_token="+n.options.access_token),t.type=t.is_dir?"folder":t.mime_type,t.name=t.path.replace(/.*\//g,""),t.is_dir?t.files=o.replace(/^\//,""):(t.downloadLink=e.settings.oauth_proxy+"?path="+encodeURIComponent("https://api-content.dropbox.com/1/files/auto/"+o)+"&access_token="+n.options.access_token,t.file="https://api-content.dropbox.com/1/files/auto/"+o),t.id||(t.id=t.path.replace(/^\//,""))}}function n(e){return function(t,r){delete t.query.limit,r(e)}}var o={version:"1.0",auth:"https://www.dropbox.com/1/oauth/authorize",request:"https://api.dropbox.com/1/oauth/request_token",token:"https://api.dropbox.com/1/oauth/access_token"},a={version:2,auth:"https://www.dropbox.com/1/oauth2/authorize",grant:"https://api.dropbox.com/1/oauth2/token"};e.init({dropbox:{name:"Dropbox",oauth:a,login:function(t){t.qs.scope="",delete t.qs.display;var r=decodeURIComponent(t.qs.redirect_uri);0===r.indexOf("http:")&&0!==r.indexOf("http://localhost/")?e.services.dropbox.oauth=o:e.services.dropbox.oauth=a,t.options.popup.width=1e3,t.options.popup.height=1e3},base:"https://api.dropbox.com/1/",root:"sandbox",get:{me:"account/info","me/files":n("metadata/auto/@{parent|}"),"me/folder":n("metadata/auto/@{id}"),"me/folders":n("metadata/auto/"),"default":function(e,t){e.path.match("https://api-content.dropbox.com/1/files/")&&(e.method="blob"),t(e.path)}},post:{"me/files":function(t,r){var n=t.data.parent,o=t.data.name;t.data={file:t.data.file},"string"==typeof t.data.file&&(t.data.file=e.utils.toBlob(t.data.file)),r("https://api-content.dropbox.com/1/files_put/auto/"+n+"/"+o)},"me/folders":function(t,r){var n=t.data.name;t.data={},r("fileops/create_folder?root=@{root|sandbox}&"+e.utils.param({path:n}))}},del:{"me/files":"fileops/delete?root=@{root|sandbox}&path=@{id}","me/folder":"fileops/delete?root=@{root|sandbox}&path=@{id}"},wrap:{me:function(e){if(t(e),!e.uid)return e;e.name=e.display_name;var r=e.name.split(" ");return e.first_name=r.shift(),e.last_name=r.join(" "),e.id=e.uid,delete e.uid,delete e.display_name,e},"default":function(e,n,o){return t(e),e.is_dir&&e.contents&&(e.data=e.contents,delete e.contents,e.data.forEach(function(t){t.root=e.root,r(t,n,o)})),r(e,n,o),e.is_deleted&&(e.success=!0),e}},xhr:function(e){if(e.data&&e.data.file){var t=e.data.file;t&&(t.files?e.data=t.files[0]:e.data=t)}return"delete"===e.method&&(e.method="post"),!0},form:function(e,t){delete t.state,delete t.redirect_uri}}})}(i),function(e){function t(e){return e.id&&(e.thumbnail=e.picture="https://graph.facebook.com/"+e.id+"/picture"),e}function r(e){return"data"in e&&e.data.forEach(t),e}function n(e,t,r){if("boolean"==typeof e&&(e={success:e}),e&&"data"in e){var n=r.query.access_token;e.data.forEach(function(e){e.picture&&(e.thumbnail=e.picture),e.pictures=(e.images||[]).sort(function(e,t){return e.width-t.width}),e.cover_photo&&e.cover_photo.id&&(e.thumbnail=o+e.cover_photo.id+"/picture?access_token="+n),"album"===e.type&&(e.files=e.photos=o+e.id+"/photos"),e.can_upload&&(e.upload_location=o+e.id+"/photos")})}return e}e.init({facebook:{name:"Facebook",oauth:{version:2,auth:"https://www.facebook.com/dialog/oauth/",grant:"https://graph.facebook.com/oauth/access_token"},scope:{basic:"public_profile",email:"email",share:"user_posts",birthday:"user_birthday",events:"user_events",photos:"user_photos,user_videos",videos:"user_photos,user_videos",friends:"user_friends",files:"user_photos,user_videos",publish_files:"user_photos,user_videos,publish_actions",publish:"publish_actions",offline_access:"offline_access"},refresh:!0,login:function(e){e.options.force&&(e.qs.auth_type="reauthenticate"),e.options.popup.width=580,e.options.popup.height=400},logout:function(t,r){var n=e.utils.globalEvent(t),o=encodeURIComponent(e.settings.redirect_uri+"?"+e.utils.param({callback:n,result:JSON.stringify({force:!0}),state:"{}"})),a=(r.authResponse||{}).access_token;return e.utils.iframe("https://www.facebook.com/logout.php?next="+o+"&access_token="+a),a?void 0:!1},base:"https://graph.facebook.com/v2.4/",get:{me:"me?fields=email,first_name,last_name,name,timezone,verified","me/friends":"me/friends","me/following":"me/friends","me/followers":"me/friends","me/share":"me/feed","me/like":"me/likes","me/files":"me/albums","me/albums":"me/albums?fields=cover_photo,name","me/album":"@{id}/photos?fields=picture","me/photos":"me/photos","me/photo":"@{id}","friend/albums":"@{id}/albums","friend/photos":"@{id}/photos"},post:{"me/share":"me/feed","me/photo":"@{id}"},wrap:{me:t,"me/friends":r,"me/following":r,"me/followers":r,"me/albums":n,"me/photos":n,"me/files":n,"default":n},xhr:function(t,r){return("get"===t.method||"post"===t.method)&&(r.suppress_response_codes=!0),"post"===t.method&&t.data&&"string"==typeof t.data.file&&(t.data.file=e.utils.toBlob(t.data.file)),!0},jsonp:function(t,r){var n=t.method;"get"===n||e.utils.hasBinary(t.data)?"delete"===t.method&&(r.method="delete",t.method="post"):(t.data.method=n,t.method="get")},form:function(e){return{callbackonload:!0}}}});var o="https://graph.facebook.com/"}(i),function(e){function t(t,r,n){var o=(n?"":"flickr:")+"?method="+t+"&api_key="+e.services.flickr.id+"&format=json";for(var a in r)r.hasOwnProperty(a)&&(o+="&"+a+"="+r[a]);return o}function r(t){var r=e.getAuthResponse("flickr");t(r&&r.user_nsid?r.user_nsid:null)}function n(e,n){return n||(n={}),function(o,a){r(function(r){n.user_id=r,a(t(e,n,!0))})}}function o(e,t){var r="https://www.flickr.com/images/buddyicon.gif";return e.nsid&&e.iconserver&&e.iconfarm&&(r="https://farm"+e.iconfarm+".staticflickr.com/"+e.iconserver+"/buddyicons/"+e.nsid+(t?"_"+t:"")+".jpg"),r}function a(e,t,r,n,o){return o=o?"_"+o:"","https://farm"+t+".staticflickr.com/"+r+"/"+e+"_"+n+o+".jpg"}function i(e){e&&e.stat&&"ok"!=e.stat.toLowerCase()&&(e.error={code:"invalid_request",message:e.message})}function s(e){if(e.photoset||e.photos){var t="photoset"in e?"photoset":"photos";e=u(e,t),d(e),e.data=e.photo,delete e.photo;for(var r=0;r<e.data.length;r++){var n=e.data[r];n.name=n.title,n.picture=a(n.id,n.farm,n.server,n.secret,""),n.pictures=l(n.id,n.farm,n.server,n.secret),n.source=a(n.id,n.farm,n.server,n.secret,"b"),n.thumbnail=a(n.id,n.farm,n.server,n.secret,"m")}}return e}function l(e,t,r,n){var o=2048,i=[{id:"t",max:100},{id:"m",max:240},{id:"n",max:320},{id:"",max:500},{id:"z",max:640},{id:"c",max:800},{id:"b",max:1024},{id:"h",max:1600},{id:"k",max:2048},{id:"o",max:o}];return i.map(function(o){return{source:a(e,t,r,n,o.id),width:o.max,height:o.max}})}function u(e,t){return t in e?e=e[t]:"error"in e||(e.error={code:"invalid_request",message:e.message||"Failed to get data from Flickr"}),e}function c(e){if(i(e),e.contacts){e=u(e,"contacts"),d(e),e.data=e.contact,delete e.contact;for(var t=0;t<e.data.length;t++){var r=e.data[t];r.id=r.nsid,r.name=r.realname||r.username,r.thumbnail=o(r,"m")}}return e}function d(e){e.page&&e.pages&&e.page!==e.pages&&(e.paging={next:"?page="+ ++e.page})}e.init({flickr:{name:"Flickr",oauth:{version:"1.0a",auth:"https://www.flickr.com/services/oauth/authorize?perms=read",request:"https://www.flickr.com/services/oauth/request_token",token:"https://www.flickr.com/services/oauth/access_token"},base:"https://api.flickr.com/services/rest",get:{me:n("flickr.people.getInfo"),"me/friends":n("flickr.contacts.getList",{per_page:"@{limit|50}"}),"me/following":n("flickr.contacts.getList",{per_page:"@{limit|50}"}),"me/followers":n("flickr.contacts.getList",{per_page:"@{limit|50}"}),"me/albums":n("flickr.photosets.getList",{per_page:"@{limit|50}"}),"me/album":n("flickr.photosets.getPhotos",{photoset_id:"@{id}"}),"me/photos":n("flickr.people.getPhotos",{per_page:"@{limit|50}"})},wrap:{me:function(e){if(i(e),e=u(e,"person"),e.id){if(e.realname){e.name=e.realname._content;var t=e.name.split(" ");e.first_name=t.shift(),e.last_name=t.join(" ")}e.thumbnail=o(e,"l"),e.picture=o(e,"l")}return e},"me/friends":c,"me/followers":c,"me/following":c,"me/albums":function(e){return i(e),e=u(e,"photosets"),d(e),e.photoset&&(e.data=e.photoset,e.data.forEach(function(e){e.name=e.title._content,e.photos="https://api.flickr.com/services/rest"+t("flickr.photosets.getPhotos",{photoset_id:e.id},!0)}),delete e.photoset),e},"me/photos":function(e){return i(e),s(e)},"default":function(e){return i(e),s(e)}},xhr:!1,jsonp:function(e,t){"get"==e.method&&(delete t.callback,t.jsoncallback=e.callbackID)}}})}(i),function(e){function t(e){!e.meta||400!==e.meta.code&&401!==e.meta.code||(e.error={code:"access_denied",message:e.meta.errorDetail})}function r(e){e&&e.id&&(e.thumbnail=e.photo.prefix+"100x100"+e.photo.suffix,e.name=e.firstName+" "+e.lastName,e.first_name=e.firstName,e.last_name=e.lastName,e.contact&&e.contact.email&&(e.email=e.contact.email))}function n(e,t){var r=t.access_token;return delete t.access_token,t.oauth_token=r,t.v=20121125,!0}e.init({foursquare:{name:"Foursquare",oauth:{version:2,auth:"https://foursquare.com/oauth2/authenticate",grant:"https://foursquare.com/oauth2/access_token"},refresh:!0,base:"https://api.foursquare.com/v2/",get:{me:"users/self","me/friends":"users/self/friends","me/followers":"users/self/friends","me/following":"users/self/friends"},wrap:{me:function(e){return t(e),e&&e.response&&(e=e.response.user,r(e)),e},"default":function(e){return t(e),e&&"response"in e&&"friends"in e.response&&"items"in e.response.friends&&(e.data=e.response.friends.items,e.data.forEach(r),delete e.response),e}},xhr:n,jsonp:n}})}(i),function(e){function t(e,t){var r=t?t.statusCode:e&&"meta"in e&&"status"in e.meta&&e.meta.status;(401===r||403===r)&&(e.error={code:"access_denied",message:e.message||(e.data?e.data.message:"Could not get response")},delete e.message)}function r(e){e.id&&(e.thumbnail=e.picture=e.avatar_url,e.name=e.login)}function n(e,t,r){if(e.data&&e.data.length&&t&&t.Link){var n=t.Link.match(/<(.*?)>;\s*rel=\"next\"/);n&&(e.paging={next:n[1]})}}e.init({github:{name:"GitHub",oauth:{version:2,auth:"https://github.com/login/oauth/authorize",grant:"https://github.com/login/oauth/access_token",response_type:"code"},scope:{basic:"",email:"user:email"},base:"https://api.github.com/",get:{me:"user","me/friends":"user/following?per_page=@{limit|100}","me/following":"user/following?per_page=@{limit|100}","me/followers":"user/followers?per_page=@{limit|100}","me/like":"user/starred?per_page=@{limit|100}"},wrap:{me:function(e,n){return t(e,n),r(e),e},"default":function(e,o,a){return t(e,o),Array.isArray(e)&&(e={data:e}),e.data&&(n(e,o,a),e.data.forEach(r)),e}},xhr:function(e){return"get"!==e.method&&e.data&&(e.headers=e.headers||{},e.headers["Content-Type"]="application/json","object"==typeof e.data&&(e.data=JSON.stringify(e.data))),!0}}})}(i),function(e){function t(e){return parseInt(e,10)}function r(e){return c(e),e.data=e.items,delete e.items,e}function n(e){return e.error?void 0:(e.name||(e.name=e.title||e.message),e.picture||(e.picture=e.thumbnailLink),e.thumbnail||(e.thumbnail=e.thumbnailLink),"application/vnd.google-apps.folder"===e.mimeType&&(e.type="folder",e.files="https://www.googleapis.com/drive/v2/files?q=%22"+e.id+"%22+in+parents"),e)}function o(e){return{source:e.url,width:e.width,height:e.height}}function a(e){e.data=e.feed.entry.map(u),delete e.feed}function i(e){if(c(e),"feed"in e&&"entry"in e.feed)e.data=e.feed.entry.map(u),delete e.feed;else{if("entry"in e)return u(e.entry);"items"in e?(e.data=e.items.map(n),delete e.items):n(e)}return e}function s(e){e.name=e.displayName||e.name,e.picture=e.picture||(e.image?e.image.url:null),e.thumbnail=e.picture}function l(e,t,r){c(e);if("feed"in e&&"entry"in e.feed){for(var n=r.query.access_token,o=0;o<e.feed.entry.length;o++){var a=e.feed.entry[o];if(a.id=a.id.$t,a.name=a.title.$t,delete a.title,a.gd$email&&(a.email=a.gd$email&&a.gd$email.length>0?a.gd$email[0].address:null,a.emails=a.gd$email,delete a.gd$email),a.updated&&(a.updated=a.updated.$t),a.link){var i=a.link.length>0?a.link[0].href:null;i&&a.link[0].gd$etag&&(i+=(i.indexOf("?")>-1?"&":"?")+"access_token="+n,a.picture=i,a.thumbnail=i),delete a.link}a.category&&delete a.category}e.data=e.feed.entry,delete e.feed}return e}function u(e){var t,r=e.media$group,n=r.media$content.length?r.media$content[0]:{},a=r.media$content||[],i=r.media$thumbnail||[],s=a.concat(i).map(o).sort(function(e,t){return e.width-t.width}),l=0,u={id:e.id.$t,name:e.title.$t,description:e.summary.$t,updated_time:e.updated.$t,created_time:e.published.$t,picture:n?n.url:null,pictures:s,images:[],thumbnail:n?n.url:null,width:n.width,height:n.height};if("link"in e)for(l=0;l<e.link.length;l++){var c=e.link[l];if(c.rel.match(/\#feed$/)){u.upload_location=u.files=u.photos=c.href;break}}if("category"in e&&e.category.length)for(t=e.category,l=0;l<t.length;l++)t[l].scheme&&t[l].scheme.match(/\#kind$/)&&(u.type=t[l].term.replace(/^.*?\#/,""));return"media$thumbnail"in r&&r.media$thumbnail.length&&(t=r.media$thumbnail,u.thumbnail=t[0].url,u.images=t.map(o)),t=r.media$content,t&&t.length&&u.images.push(o(t[0])),u}function c(e){if("feed"in e&&e.feed.openSearch$itemsPerPage){var r=t(e.feed.openSearch$itemsPerPage.$t),n=t(e.feed.openSearch$startIndex.$t),o=t(e.feed.openSearch$totalResults.$t);o>n+r&&(e.paging={next:"?start="+(n+r)})}else"nextPageToken"in e&&(e.paging={next:"?pageToken="+e.nextPageToken})}function d(){function e(e){var r=new FileReader;r.onload=function(r){t(btoa(r.target.result),e.type+a+"Content-Transfer-Encoding: base64")},r.readAsBinaryString(e)}function t(e,t){r.push(a+"Content-Type: "+t+a+a+e),o--,s()}var r=[],n=(1e10*Math.random()).toString(32),o=0,a="\r\n",i=a+"--"+n,s=function(){},l=/^data\:([^;,]+(\;charset=[^;,]+)?)(\;base64)?,/i;this.append=function(r,n){"string"!=typeof r&&"length"in Object(r)||(r=[r]);for(var i=0;i<r.length;i++){o++;var s=r[i];if("undefined"!=typeof File&&s instanceof File||"undefined"!=typeof Blob&&s instanceof Blob)e(s);else if("string"==typeof s&&s.match(l)){var u=s.match(l);t(s.replace(l,""),u[1]+a+"Content-Transfer-Encoding: base64");
}else t(s,n)}},this.onready=function(e){(s=function(){0===o&&(r.unshift(""),r.push("--"),e(r.join(i),n),r=[])})()}}function f(e,t){var r={};e.data&&"undefined"!=typeof HTMLInputElement&&e.data instanceof HTMLInputElement&&(e.data={file:e.data}),!e.data.name&&Object(Object(e.data.file).files).length&&"post"===e.method&&(e.data.name=e.data.file.files[0].name),"post"===e.method?e.data={title:e.data.name,parents:[{id:e.data.parent||"root"}],file:e.data.file}:(r=e.data,e.data={},r.parent&&(e.data.parents=[{id:e.data.parent||"root"}]),r.file&&(e.data.file=r.file),r.name&&(e.data.title=r.name));var n;if("file"in e.data&&(n=e.data.file,delete e.data.file,"object"==typeof n&&"files"in n&&(n=n.files),!n||!n.length))return void t({error:{code:"request_invalid",message:"There were no files attached with this request to upload"}});var o=new d;o.append(JSON.stringify(e.data),"application/json"),n&&o.append(n),o.onready(function(n,o){e.headers["content-type"]='multipart/related; boundary="'+o+'"',e.data=n,t("upload/drive/v2/files"+(r.id?"/"+r.id:"")+"?uploadType=multipart")})}function p(e){if("object"==typeof e.data)try{e.data=JSON.stringify(e.data),e.headers["content-type"]="application/json"}catch(t){}}var h="https://www.google.com/m8/feeds/contacts/default/full?v=3.0&alt=json&max-results=@{limit|1000}&start-index=@{start|1}";e.init({google:{name:"Google Plus",oauth:{version:2,auth:"https://accounts.google.com/o/oauth2/auth",grant:"https://accounts.google.com/o/oauth2/token"},scope:{basic:"https://www.googleapis.com/auth/plus.me profile",email:"email",birthday:"",events:"",photos:"https://picasaweb.google.com/data/",videos:"http://gdata.youtube.com",friends:"https://www.google.com/m8/feeds, https://www.googleapis.com/auth/plus.login",files:"https://www.googleapis.com/auth/drive.readonly",publish:"",publish_files:"https://www.googleapis.com/auth/drive",create_event:"",offline_access:""},scope_delim:" ",login:function(e){"none"===e.qs.display&&(e.qs.display=""),"code"===e.qs.response_type&&(e.qs.access_type="offline"),e.options.force&&(e.qs.approval_prompt="force")},base:"https://www.googleapis.com/",get:{me:"plus/v1/people/me","me/friends":"plus/v1/people/me/people/visible?maxResults=@{limit|100}","me/following":h,"me/followers":h,"me/contacts":h,"me/share":"plus/v1/people/me/activities/public?maxResults=@{limit|100}","me/feed":"plus/v1/people/me/activities/public?maxResults=@{limit|100}","me/albums":"https://picasaweb.google.com/data/feed/api/user/default?alt=json&max-results=@{limit|100}&start-index=@{start|1}","me/album":function(e,t){var r=e.query.id;delete e.query.id,t(r.replace("/entry/","/feed/"))},"me/photos":"https://picasaweb.google.com/data/feed/api/user/default?alt=json&kind=photo&max-results=@{limit|100}&start-index=@{start|1}","me/files":"drive/v2/files?q=%22@{parent|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}","me/folders":"drive/v2/files?q=%22@{id|root}%22+in+parents+and+mimeType+=+%22application/vnd.google-apps.folder%22+and+trashed=false&maxResults=@{limit|100}","me/folder":"drive/v2/files?q=%22@{id|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}"},post:{"me/files":f,"me/folders":function(e,t){e.data={title:e.data.name,parents:[{id:e.data.parent||"root"}],mimeType:"application/vnd.google-apps.folder"},t("drive/v2/files")}},put:{"me/files":f},del:{"me/files":"drive/v2/files/@{id}","me/folder":"drive/v2/files/@{id}"},wrap:{me:function(e){return e.id&&(e.last_name=e.family_name||(e.name?e.name.familyName:null),e.first_name=e.given_name||(e.name?e.name.givenName:null),e.emails&&e.emails.length&&(e.email=e.emails[0].value),s(e)),e},"me/friends":function(e){return e.items&&(c(e),e.data=e.items,e.data.forEach(s),delete e.items),e},"me/contacts":l,"me/followers":l,"me/following":l,"me/share":r,"me/feed":r,"me/albums":i,"me/photos":a,"default":i},xhr:function(e){return("post"===e.method||"put"===e.method)&&p(e),!0},form:!1}})}(i),function(e){function t(e){return{source:e.url,width:e.width,height:e.height}}function r(e){return"string"==typeof e?{error:{code:"invalid_request",message:e}}:(e&&"meta"in e&&"error_type"in e.meta&&(e.error={code:e.meta.error_type,message:e.meta.error_message}),e)}function n(e){return a(e),e&&"data"in e&&e.data.forEach(o),e}function o(e){e.id&&(e.thumbnail=e.profile_picture,e.name=e.full_name||e.username)}function a(e){"pagination"in e&&(e.paging={next:e.pagination.next_url},delete e.pagination)}e.init({instagram:{name:"Instagram",oauth:{version:2,auth:"https://instagram.com/oauth/authorize/",grant:"https://api.instagram.com/oauth/access_token"},refresh:!0,scope:{basic:"basic",friends:"relationships",publish:"likes comments"},scope_delim:" ",login:function(e){e.qs.display=""},base:"https://api.instagram.com/v1/",get:{me:"users/self","me/feed":"users/self/feed?count=@{limit|100}","me/photos":"users/self/media/recent?min_id=0&count=@{limit|100}","me/friends":"users/self/follows?count=@{limit|100}","me/following":"users/self/follows?count=@{limit|100}","me/followers":"users/self/followed-by?count=@{limit|100}","friend/photos":"users/@{id}/media/recent?min_id=0&count=@{limit|100}"},post:{"me/like":function(e,t){var r=e.data.id;e.data={},t("media/"+r+"/likes")}},del:{"me/like":"media/@{id}/likes"},wrap:{me:function(e){return r(e),"data"in e&&(e.id=e.data.id,e.thumbnail=e.data.profile_picture,e.name=e.data.full_name||e.data.username),e},"me/friends":n,"me/following":n,"me/followers":n,"me/photos":function(e){return r(e),a(e),"data"in e&&(e.data=e.data.filter(function(e){return"image"===e.type}),e.data.forEach(function(e){e.name=e.caption?e.caption.text:null,e.thumbnail=e.images.thumbnail.url,e.picture=e.images.standard_resolution.url,e.pictures=Object.keys(e.images).map(function(r){var n=e.images[r];return t(n)}).sort(function(e,t){return e.width-t.width})})),e},"default":function(e){return e=r(e),a(e),e}},xhr:function(e,t){var r=e.method,n="get"!==r;return n&&("post"!==r&&"put"!==r||!e.query.access_token||(e.data.access_token=e.query.access_token,delete e.query.access_token),e.proxy=n),n},form:!1}})}(i),function(e){function t(e,t){var r,o;return e&&"Message"in e&&(o=e.Message,delete e.Message,"ErrorCode"in e?(r=e.ErrorCode,delete e.ErrorCode):r=n(t),e.error={code:r,message:o,details:e}),e}function r(e,t){var r=t.access_token;return delete t.access_token,e.headers.Authorization="Bearer "+r,"get"!==e.method&&e.data&&(e.headers["Content-Type"]="application/json","object"==typeof e.data&&(e.data=JSON.stringify(e.data))),"put"===e.method&&(e.method="patch"),!0}function n(e){switch(e.statusCode){case 400:return"invalid_request";case 403:return"stale_token";case 401:return"invalid_token";case 500:return"server_error";default:return"server_error"}}e.init({joinme:{name:"join.me",oauth:{version:2,auth:"https://secure.join.me/api/public/v1/auth/oauth2",grant:"https://secure.join.me/api/public/v1/auth/oauth2"},refresh:!1,scope:{basic:"user_info",user:"user_info",scheduler:"scheduler",start:"start_meeting"},scope_delim:" ",login:function(e){e.options.popup.width=400,e.options.popup.height=700},base:"https://api.join.me/v1/",get:{me:"user",meetings:"meetings","meetings/info":"meetings/@{id}"},post:{"meetings/start/adhoc":function(e,t){t("meetings/start")},"meetings/start/scheduled":function(e,t){var r=e.data.meetingId;e.data={},t("meetings/"+r+"/start")},"meetings/schedule":function(e,t){t("meetings")}},patch:{"meetings/update":function(e,t){t("meetings/"+e.data.meetingId)}},del:{"meetings/delete":"meetings/@{id}"},wrap:{me:function(e,r){return t(e,r),e.email?(e.name=e.fullName,e.first_name=e.name.split(" ")[0],e.last_name=e.name.split(" ")[1],e.id=e.email,e):e},"default":function(e,r){return t(e,r),e}},xhr:r}})}(i),function(e){function t(e){e&&"errorCode"in e&&(e.error={code:e.status,message:e.message})}function r(e){return e.error?void 0:(e.first_name=e.firstName,e.last_name=e.lastName,e.name=e.formattedName||e.first_name+" "+e.last_name,e.thumbnail=e.pictureUrl,e.email=e.emailAddress,e)}function n(e){return t(e),o(e),e.values&&(e.data=e.values.map(r),delete e.values),e}function o(e){"_count"in e&&"_start"in e&&e._count+e._start<e._total&&(e.paging={next:"?start="+(e._start+e._count)+"&count="+e._count})}function a(e,t){"{}"===JSON.stringify(e)&&200===t.statusCode&&(e.success=!0)}function i(e){e.access_token&&(e.oauth2_access_token=e.access_token,delete e.access_token)}function s(e,t){e.headers["x-li-format"]="json";var r=e.data.id;e.data=("delete"!==e.method).toString(),e.method="put",t("people/~/network/updates/key="+r+"/is-liked")}e.init({linkedin:{oauth:{version:2,response_type:"code",auth:"https://www.linkedin.com/uas/oauth2/authorization",grant:"https://www.linkedin.com/uas/oauth2/accessToken"},refresh:!0,scope:{basic:"r_basicprofile",email:"r_emailaddress",friends:"",publish:"w_share"},scope_delim:" ",base:"https://api.linkedin.com/v1/",get:{me:"people/~:(picture-url,first-name,last-name,id,formatted-name,email-address)","me/friends":"people/~/connections?count=@{limit|500}","me/followers":"people/~/connections?count=@{limit|500}","me/following":"people/~/connections?count=@{limit|500}","me/share":"people/~/network/updates?count=@{limit|250}"},post:{"me/share":function(e,t){var r={visibility:{code:"anyone"}};e.data.id?r.attribution={share:{id:e.data.id}}:(r.comment=e.data.message,e.data.picture&&e.data.link&&(r.content={"submitted-url":e.data.link,"submitted-image-url":e.data.picture})),e.data=JSON.stringify(r),t("people/~/shares?format=json")},"me/like":s},del:{"me/like":s},wrap:{me:function(e){return t(e),r(e),e},"me/friends":n,"me/following":n,"me/followers":n,"me/share":function(e){return t(e),o(e),e.values&&(e.data=e.values.map(r),e.data.forEach(function(e){e.message=e.headline}),delete e.values),e},"default":function(e,r){t(e),a(e,r),o(e)}},jsonp:function(e,t){i(t),"get"===e.method&&(t.format="jsonp",t["error-callback"]=e.callbackID)},xhr:function(e,t){return"get"!==e.method?(i(t),e.headers["Content-Type"]="application/json",e.headers["x-li-format"]="json",e.proxy=!0,!0):!1}}})}(i),function(e){function t(e,t){var r=t.access_token;return delete t.access_token,t.oauth_token=r,t["_status_code_map[302]"]=200,!0}function r(e){return e.id&&(e.picture=e.avatar_url,e.thumbnail=e.avatar_url,e.name=e.username||e.full_name),e}function n(e){"next_href"in e&&(e.paging={next:e.next_href})}e.init({soundcloud:{name:"SoundCloud",oauth:{version:2,auth:"https://soundcloud.com/connect",grant:"https://soundcloud.com/oauth2/token"},base:"https://api.soundcloud.com/",get:{me:"me.json","me/friends":"me/followings.json","me/followers":"me/followers.json","me/following":"me/followings.json","default":function(e,t){t(e.path+".json")}},wrap:{me:function(e){return r(e),e},"default":function(e){return Array.isArray(e)&&(e={data:e.map(r)}),n(e),e}},xhr:t,jsonp:t}})}(i),function(e){function t(e){if(e.id){if(e.name){var t=e.name.split(" ");e.first_name=t.shift(),e.last_name=t.join(" ")}e.thumbnail=e.profile_image_url_https||e.profile_image_url}return e}function r(e){return n(e),o(e),e.users&&(e.data=e.users.map(t),delete e.users),e}function n(e){if(e.errors){var t=e.errors[0];e.error={code:"request_failed",message:t.message}}}function o(e){"next_cursor_str"in e&&(e.paging={next:"?cursor="+e.next_cursor_str})}function a(e){return Array.isArray(e)?{data:e}:e}var i="https://api.twitter.com/";e.init({twitter:{oauth:{version:"1.0a",auth:i+"oauth/authenticate",request:i+"oauth/request_token",token:i+"oauth/access_token"},login:function(e){var t="?force_login=true";this.oauth.auth=this.oauth.auth.replace(t,"")+(e.options.force?t:"")},base:i+"1.1/",get:{me:"account/verify_credentials.json","me/friends":"friends/list.json?count=@{limit|200}","me/following":"friends/list.json?count=@{limit|200}","me/followers":"followers/list.json?count=@{limit|200}","me/share":"statuses/user_timeline.json?count=@{limit|200}","me/like":"favorites/list.json?count=@{limit|200}"},post:{"me/share":function(t,r){var n=t.data;t.data=null;var o=[];n.message&&(o.push(n.message),delete n.message),n.link&&(o.push(n.link),delete n.link),n.picture&&(o.push(n.picture),delete n.picture),o.length&&(n.status=o.join(" ")),n.file?(n["media[]"]=n.file,delete n.file,t.data=n,r("statuses/update_with_media.json")):"id"in n?r("statuses/retweet/"+n.id+".json"):(e.utils.extend(t.query,n),r("statuses/update.json?include_entities=1"))},"me/like":function(e,t){var r=e.data.id;e.data=null,t("favorites/create.json?id="+r)}},del:{"me/like":function(){p.method="post";var e=p.data.id;p.data=null,callback("favorites/destroy.json?id="+e)}},wrap:{me:function(e){return n(e),t(e),e},"me/friends":r,"me/followers":r,"me/following":r,"me/share":function(e){return n(e),o(e),!e.error&&"length"in e?{data:e}:e},"default":function(e){return e=a(e),o(e),e}},xhr:function(e){return"get"!==e.method}}})}(i),function(e){function t(e,t){return null!==e&&"response"in e&&null!==e.response&&e.response.length&&(e=e.response[0],e.id=e.uid,e.thumbnail=e.picture=e.photo_max,e.name=e.first_name+" "+e.last_name,t.authResponse&&null!==t.authResponse.email&&(e.email=t.authResponse.email)),e}function r(e){if(e.error){var t=e.error;e.error={code:t.error_code,message:t.error_msg}}}e.init({vk:{name:"Vk",oauth:{version:2,auth:"https://oauth.vk.com/authorize",grant:"https://oauth.vk.com/access_token"},scope:{basic:"",email:"email",offline_access:"offline"},refresh:!0,login:function(e){e.qs.display=window.navigator&&window.navigator.userAgent&&/ipad|phone|phone|android/.test(window.navigator.userAgent.toLowerCase())?"mobile":"popup"},base:"https://api.vk.com/method/",get:{me:function(e,t){e.query.fields="id,first_name,last_name,photo_max",t("users.get")}},wrap:{me:function(e,n,o){return r(e),t(e,o)}},xhr:!1,jsonp:!0,form:!1}})}(i),function(e){function t(e){return"data"in e&&e.data.forEach(function(e){e.picture&&(e.thumbnail=e.picture),e.images&&(e.pictures=e.images.map(r).sort(function(e,t){return e.width-t.width}))}),e}function r(e){return{width:e.width,height:e.height,source:e.source}}function n(e){return"data"in e&&e.data.forEach(function(e){e.photos=e.files="https://apis.live.net/v5.0/"+e.id+"/photos"}),e}function o(e,t,r){if(e.id){var n=r.query.access_token;if(e.emails&&(e.email=e.emails.preferred),e.is_friend!==!1){var o=e.user_id||e.id;e.thumbnail=e.picture="https://apis.live.net/v5.0/"+o+"/picture?access_token="+n}}return e}function a(e,t,r){return"data"in e&&e.data.forEach(function(e){o(e,t,r)}),e}e.init({windows:{name:"Windows live",oauth:{version:2,auth:"https://login.live.com/oauth20_authorize.srf",grant:"https://login.live.com/oauth20_token.srf"},refresh:!0,logout:function(){return"http://login.live.com/oauth20_logout.srf?ts="+(new Date).getTime()},scope:{basic:"wl.signin,wl.basic",email:"wl.emails",birthday:"wl.birthday",events:"wl.calendars",photos:"wl.photos",videos:"wl.photos",friends:"wl.contacts_emails",files:"wl.skydrive",publish:"wl.share",publish_files:"wl.skydrive_update",create_event:"wl.calendars_update,wl.events_create",offline_access:"wl.offline_access"},base:"https://apis.live.net/v5.0/",get:{me:"me","me/friends":"me/friends","me/following":"me/contacts","me/followers":"me/friends","me/contacts":"me/contacts","me/albums":"me/albums","me/album":"@{id}/files","me/photo":"@{id}","me/files":"@{parent|me/skydrive}/files","me/folders":"@{id|me/skydrive}/files","me/folder":"@{id|me/skydrive}/files"},post:{"me/albums":"me/albums","me/album":"@{id}/files/","me/folders":"@{id|me/skydrive/}","me/files":"@{parent|me/skydrive}/files"},del:{"me/album":"@{id}","me/photo":"@{id}","me/folder":"@{id}","me/files":"@{id}"},wrap:{me:o,"me/friends":a,"me/contacts":a,"me/followers":a,"me/following":a,"me/albums":n,"me/photos":t,"default":t},xhr:function(t){return"get"===t.method||"delete"===t.method||e.utils.hasBinary(t.data)||("string"==typeof t.data.file?t.data.file=e.utils.toBlob(t.data.file):(t.data=JSON.stringify(t.data),t.headers={"Content-Type":"application/json"})),!0},jsonp:function(t){"get"===t.method||e.utils.hasBinary(t.data)||(t.data.method=t.method,t.method="get")}}})}(i),function(e){function t(e){e&&"meta"in e&&"error_type"in e.meta&&(e.error={code:e.meta.error_type,message:e.meta.error_message})}function r(e){if(t(e),e.query&&e.query.results&&e.query.results.profile){e=e.query.results.profile,e.id=e.guid,e.last_name=e.familyName,e.first_name=e.givenName||e.nickname;var r=[];e.first_name&&r.push(e.first_name),e.last_name&&r.push(e.last_name),e.name=r.join(" "),e.email=e.emails&&e.emails[0]?e.emails[0].handle:null,e.thumbnail=e.image?e.image.imageUrl:null}return e}function n(e,r,n){t(e),a(e,r,n);return e.query&&e.query.results&&e.query.results.contact&&(e.data=e.query.results.contact,delete e.query,Array.isArray(e.data)||(e.data=[e.data]),e.data.forEach(o)),e}function o(e){e.id=null,(e.fields||[]).forEach(function(t){"email"===t.type&&(e.email=t.value),"name"===t.type&&(e.first_name=t.value.givenName,e.last_name=t.value.familyName,e.name=t.value.givenName+" "+t.value.familyName),"yahooid"===t.type&&(e.id=t.value)})}function a(e,t,r){return e.query&&e.query.count&&r.options&&(e.paging={next:"?start="+(e.query.count+(+r.options.start||1))}),e}function i(e){return"https://query.yahooapis.com/v1/yql?q="+(e+" limit @{limit|100} offset @{start|0}").replace(/\s/g,"%20")+"&format=json"}e.init({yahoo:{oauth:{version:"1.0a",auth:"https://api.login.yahoo.com/oauth/v2/request_auth",request:"https://api.login.yahoo.com/oauth/v2/get_request_token",token:"https://api.login.yahoo.com/oauth/v2/get_token"},login:function(e){e.options.popup.width=560;try{delete e.qs.state.scope}catch(t){}},base:"https://social.yahooapis.com/v1/",get:{me:i("select * from social.profile(0) where guid=me"),"me/friends":i("select * from social.contacts(0) where guid=me"),"me/following":i("select * from social.contacts(0) where guid=me")},wrap:{me:r,"me/friends":n,"me/following":n,"default":a}}})}(i),n=function(){return i}.call(t,r,t,e),!(void 0!==n&&(e.exports=n)),"object"==typeof e&&e.exports&&(e.exports=i)}).call(t,r(65),r(322).setImmediate)},322:function(e,t,r){(function(e,n){function o(e,t){this._id=e,this._clearFn=t}var a=r(65).nextTick,i=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;t.setTimeout=function(){return new o(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var r=u++,n=arguments.length<2?!1:s.call(arguments,1);return l[r]=!0,a(function(){l[r]&&(n?e.apply(null,n):e.call(null),t.clearImmediate(r))}),r},t.clearImmediate="function"==typeof n?n:function(e){delete l[e]}}).call(t,r(322).setImmediate,r(322).clearImmediate)},323:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return a(t,e),i(t,[{key:"render",value:function(){var e=this.props.messages.map(function(e,t){return u["default"].createElement("p",{key:t},e)});return u["default"].createElement("div",{className:"error-messages"},u["default"].createElement("h1",null,"Uh oh!"),e)}}]),t}(u["default"].Component);t["default"]=c,e.exports=t["default"]},324:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(325),d=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){return u["default"].createElement("div",null,"Admin")}}]),t}(u["default"].Component);t["default"]=c.requireAuth(d);var f=d;t.undecorated=f},325:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return function(t){function r(){o(this,r),u(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,arguments)}return a(r,t),l(r,[{key:"render",value:function(){return d["default"].createElement(e,s({},this.props,this.state))}}],[{key:"willTransitionTo",value:function(e){p["default"].loggedIn()||e.redirect("/login",{},{nextPath:e.path})}}]),r}(d["default"].Component)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},c=r(95),d=n(c),f=r(312),p=n(f);t.requireAuth=i},326:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},u=r(95),c=n(u),d=r(19),f=r(291),p=n(f),h=r(311),m=n(h),v=r(327),g=n(v),y=r(325),b=p["default"].Component(c["default"]),w=r(348),k=(w.Spring,{Public:0,Private:1,Open:2}),O=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return a(t,e),s(t,[{key:"observe",value:function(e){return{stories:new d.Parse.Query("Story").equalTo("statusRaw",k.Public).include("creator").descending("createdAt"),bookmarks:new d.Parse.Query("Bookmark").equalTo("creator",d.Parse.User.current()).include("story"),user:p["default"].currentUser}}},{key:"renderBookmarks",value:function(){return this.data.bookmarks.map(function(e){var t=e.story;return c["default"].createElement(g["default"],i({},t,{key:t.id.objectId,isBookmarked:!0}))})}},{key:"renderPublic",value:function(){var e=this;return this.data.stories.map(function(t){var r=e.data.bookmarks.filter(function(e){return 0==e.typeRaw&&e.story.id.objectId===t.id.objectId});return c["default"].createElement(g["default"],i({},t,{key:t.id.objectId,isBookmarked:r.length>0}))})}},{key:"render",value:function(){var e=void 0,t=this.context.router.getCurrentRoutes().filter(function(e){return"bookmarkedStories"==e.name});e=this.pendingQueries().length?c["default"].createElement("div",{className:"loading grid-frame"},"Loading"):t.length?this.renderBookmarks():this.renderPublic();var r=m["default"]({"story-list":!0,bookmarks:t.length>0,"grid-block":!0,"small-up-2":!0,"medium-up-3":!0,"large-up-4":!0,"xlarge-up-5":!0,"xxlarge-up-6":!0});return c["default"].createElement("div",{className:r},e)}}]),t}(b);t["default"]=y.requireAuth(O);var _=O;t.undecorated=_,O.contextTypes={router:c["default"].PropTypes.func.isRequired}},327:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=(r(19),r(246),r(311)),d=(n(c),r(328)),f=n(d),p=r(343),h=n(p),m=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.initData(e),this.onClickLink=this.onClickLink.bind(this)}return a(t,e),i(t,[{key:"initData",value:function(e){var t=0,r=0,n=0;void 0!==this.props.bookmarkCount&&(t=this.props.bookmarkCount),void 0!==this.props.totalLikeCount&&(r=this.props.totalLikeCount),void 0!==this.props.pageCount&&(n=this.props.pageCount),this.state={storyId:this.props.id.objectId,image:this.props.image,title:this.props.title,bookmarkCount:t,isBookmarked:this.props.isBookmarked,totalLikeCount:r,pageCount:n}}},{key:"onClickLink",value:function(e){e.preventDefault(),this.context.router.transitionTo("story",{id:this.state.storyId})}},{key:"formatData",value:function(){void 0===this.state.pageCount&&(this.state.pageCount=0)}},{key:"titleContent",value:function(){return u["default"].createElement("h1",null,this.state.title)}},{key:"imageContent",value:function(){return this.state.image?u["default"].createElement("img",{className:"story-image",src:this.state.image._url}):u["default"].createElement("img",{className:"story-image",src:r(345)})}},{key:"likesContent",value:function(){return u["default"].createElement("span",{className:"likes"},u["default"].createElement(f["default"],{src:r(346)}),this.state.totalLikeCount)}},{key:"pagesContent",value:function(){return u["default"].createElement("span",{className:"pages"},u["default"].createElement(f["default"],{src:r(347)}),this.state.pageCount)}},{key:"render",value:function(){return u["default"].createElement("div",{className:"story-list-item vertical grid-block"},u["default"].createElement("header",{className:"grid-content small-24 square-aspect-ratio"},u["default"].createElement("div",{className:"content",onClick:this.onClickLink},this.imageContent(),u["default"].createElement("div",{className:"gradient-overlay"}),this.titleContent())),u["default"].createElement("footer",{className:"grid-block"},u["default"].createElement("div",{className:"grid-block small-10"},u["default"].createElement(h["default"],this.state)),u["default"].createElement("div",{className:"grid-block small-14 align-right"},this.likesContent(),this.pagesContent())))}}]),t}(u["default"].Component);t["default"]=m,m.contextTypes={router:u["default"].PropTypes.func},m.propTypes={isBookmarked:u["default"].PropTypes.bool},m.defaultProps={isBookmarked:!1},e.exports=t["default"]},328:function(e,t,r){var n,o,a,i,s,l,u,c,d,f,p,h,m,v,g,y,b,w,k=[].slice,O={}.hasOwnProperty,_=function(e,t){function r(){this.constructor=e}for(var n in t)O.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};a=r(95),v=r(329),f=r(331),p=r(341),o=a.PropTypes,g=a.DOM.span,d=f.use(p),i={PENDING:"pending",LOADING:"loading",LOADED:"loaded",FAILED:"failed",UNSUPPORTED:"unsupported"},y=v(function(){var e;return document?(e=document.createElement("div"),e.innerHTML="<svg />",e.firstChild&&"http://www.w3.org/2000/svg"===e.firstChild.namespaceURI):!1}),u=function(e){return function(){var t,r;t=1<=arguments.length?k.call(arguments,0):[],r=function(){return e.apply(null,t)},setTimeout(r,0)}},h=v(function(){return(("undefined"!=typeof window&&null!==window?window.XMLHttpRequest:void 0)||("undefined"!=typeof window&&null!==window?window.XDomainRequest:void 0))&&y()}),b=function(){var e,t;return t=function(e){return"(?:(?:\\s|\\:)"+e+")"},e=RegExp("(?:("+t("id")+')="([^"]+)")|(?:('+t("href")+"|"+t("role")+"|"+t("arcrole")+')="\\#([^"]+)")|(?:="url\\(\\#([^\\)]+)\\)")',"g"),function(t,r){var n;return n=function(e){return""+e+"___"+r},t.replace(e,function(e,t,r,o,a,i){return r?""+t+'="'+n(r)+'"':a?""+o+'="#'+n(a)+'"':i?'="url(#'+n(i)+')"':void 0})}}(),c=function(e){var t,r,n,o,a;if(r=0,!e)return r;for(n=o=0,a=e.length;a>=0?a>o:o>a;n=a>=0?++o:--o)t=e.charCodeAt(n),r=(r<<5)-r+t,r&=r;return r},n=function(e){function t(e){this.message=e}return _(t,e),t.prototype.name="InlineSVGError",t.prototype.isSupportedBrowser=!0,t.prototype.isConfigurationError=!1,
t.prototype.isUnsupportedBrowserError=!1,t}(Error),l=function(e,t){var r,o,a;r=new n(e);for(o in t)O.call(t,o)&&(a=t[o],r[o]=a);return r},w=function(e){return null==e&&(e="Unsupported Browser"),l(e,{isSupportedBrowser:!1,isUnsupportedBrowserError:!0})},s=function(e){return l(e,{isConfigurationError:!0})},e.exports=m=a.createClass({statics:{Status:i},displayName:"InlineSVG",propTypes:{wrapper:o.func,src:o.string.isRequired,className:o.string,preloader:o.func,onLoad:o.func,onError:o.func,supportTest:o.func,uniquifyIDs:o.bool},getDefaultProps:function(){return{wrapper:g,supportTest:h,uniquifyIDs:!0}},getInitialState:function(){return{status:i.PENDING}},componentDidMount:function(){return this.state.status===i.PENDING?this.props.supportTest()?this.props.src?this.setState({status:i.LOADING},this.load):u(function(e){return function(){return e.fail(s("Missing source"))}}(this))():u(function(e){return function(){return e.fail(w())}}(this))():void 0},fail:function(e){var t;return t=e.isUnsupportedBrowserError?i.UNSUPPORTED:i.FAILED,this.setState({status:t},function(t){return function(){var r;return"function"==typeof(r=t.props).onError?r.onError(e):void 0}}(this))},handleLoad:function(e,t){if(e)return this.fail(e);if(this.isMounted())return this.setState({loadedText:t.text,status:i.LOADED},function(e){return function(){var t;return"function"==typeof(t=e.props).onLoad?t.onLoad():void 0}}(this))},load:function(){var e,t;return(e=this.props.src.match(/data:image\/svg[^,]*?(;base64)?,(.*)/))?(t=e[1]?atob(e[2]):decodeURIComponent(e[2]),this.handleLoad(null,{text:t})):d.get(this.props.src,this.handleLoad)},getClassName:function(){var e;return e="isvg "+this.state.status,this.props.className&&(e+=" "+this.props.className),e},render:function(){return this.props.wrapper({className:this.getClassName(),dangerouslySetInnerHTML:this.state.loadedText?{__html:this.processSVG(this.state.loadedText)}:void 0},this.renderContents())},processSVG:function(e){return this.props.uniquifyIDs?b(e,c(this.props.src)):e},renderContents:function(){switch(this.state.status){case i.UNSUPPORTED:return this.props.children;case i.PENDING:case i.LOADING:if(this.props.preloader)return new this.props.preloader}}})},329:function(e,t,r){function n(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}var o=r(330);e.exports=o(n),n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},330:function(e,t){function r(e,t){function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),o=t[t.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach(function(e){n[e]=o[e]}),n}if(e&&t)return r(e)(t);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(t){n[t]=e[t]}),n}e.exports=r},331:function(e,t,r){"use strict";function n(e,t){function r(r,n){var i,u,h,m,v,g;for(r=new d(f(e,r)),a=0;a<t.length;a++)u=t[a],u.processRequest&&u.processRequest(r);for(a=0;a<t.length;a++)if(u=t[a],u.createXHR){i=u.createXHR(r);break}i=i||new s,r.xhr=i,h=p(l(function(e){clearTimeout(v),i.onload=i.onerror=i.onabort=i.onreadystatechange=i.ontimeout=i.onprogress=null;var s=o(r,e),l=s||c.fromRequest(r);for(a=0;a<t.length;a++)u=t[a],u.processResponse&&u.processResponse(l);s&&r.onerror&&r.onerror(s),!s&&r.onload&&r.onload(l),n&&n(s,s?void 0:l)})),g="onload"in i&&"onerror"in i,i.onload=function(){h()},i.onerror=h,i.onabort=function(){h()},i.onreadystatechange=function(){if(4===i.readyState){if(r.aborted)return h();if(!g){var e;try{e=i.status}catch(t){}var t=0===e?new Error("Internal XHR Error"):null;return h(t)}}},i.ontimeout=function(){},i.onprogress=function(){},i.open(r.method,r.url),r.timeout&&(v=setTimeout(function(){r.timedOut=!0,h();try{i.abort()}catch(e){}},r.timeout));for(m in r.headers)r.headers.hasOwnProperty(m)&&i.setRequestHeader(m,r.headers[m]);return i.send(r.body),r}e=e||{},t=t||[];var i,h=["get","post","put","head","patch","delete"],m=function(e){return function(t,n){return t=new d(t),t.method=e,r(t,n)}};for(a=0;a<h.length;a++)i=h[a],r[i]=m(i);return r.plugins=function(){return t},r.defaults=function(r){return r?n(f(e,r),t):e},r.use=function(){var r=Array.prototype.slice.call(arguments,0);return n(e,t.concat(r))},r.bare=function(){return n()},r.Request=d,r.Response=c,r.RequestError=u,r}function o(e,t){if(e.aborted)return h("Request aborted",e,{name:"Abort"});if(e.timedOut)return h("Request timeout",e,{name:"Timeout"});var r,n=e.xhr,o=Math.floor(n.status/100);switch(o){case 0:case 2:if(!t)return;return h(t.message,e);case 4:if(404===n.status&&!e.errorOn404)return;r="Client";break;case 5:r="Server";break;default:r="HTTP"}var a=r+" Error: The server returned a status of "+n.status+' for the request "'+e.method.toUpperCase()+" "+e.url+'"';return h(a,e)}var a,i=r(332),s=r(333),l=r(334),u=r(335),c=r(336),d=r(337),f=r(339),p=r(340),h=u.create;e.exports=n({},[i])},332:function(e,t){"use strict";e.exports={processRequest:function(e){e.url=e.url.replace(/[^%]+/g,function(e){return encodeURI(e)})}}},333:function(e,t){e.exports=window.XMLHttpRequest},334:function(e,t){"use strict";e.exports=function(e){return function(){var t=Array.prototype.slice.call(arguments,0),r=function(){return e.apply(null,t)};setTimeout(r,0)}}},335:function(e,t,r){"use strict";function n(e,t){var r=new Error(e);r.name="RequestError",this.name=r.name,this.message=r.message,r.stack&&(this.stack=r.stack),this.toString=function(){return this.message};for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])}var o=r(336),a=r(338),i=r(339);n.prototype=i(Error.prototype),n.prototype.constructor=n,n.create=function(e,t,r){var i=new n(e,r);return o.call(i,a(t)),i},e.exports=n},336:function(e,t,r){"use strict";function n(e){this.request=e.request,this.xhr=e.xhr,this.headers=e.headers||{},this.status=e.status||0,this.text=e.text,this.body=e.body,this.contentType=e.contentType,this.isHttpError=e.status>=400}var o=r(337),a=r(338);n.prototype.header=o.prototype.header,n.fromRequest=function(e){return new n(a(e))},e.exports=n},337:function(e,t){"use strict";function r(e){var t="string"==typeof e?{url:e}:e||{};this.method=t.method?t.method.toUpperCase():"GET",this.url=t.url,this.headers=t.headers||{},this.body=t.body,this.timeout=t.timeout||0,this.errorOn404=null!=t.errorOn404?t.errorOn404:!0,this.onload=t.onload,this.onerror=t.onerror}r.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this)},r.prototype.header=function(e,t){var r;for(r in this.headers)if(this.headers.hasOwnProperty(r)&&e.toLowerCase()===r.toLowerCase()){if(1===arguments.length)return this.headers[r];delete this.headers[r];break}return null!=t?(this.headers[e]=t,t):void 0},e.exports=r},338:function(e,t,r){"use strict";var n=r(339);e.exports=function(e){var t=e.xhr,r={request:e,xhr:t};try{var o,a,i,s={};if(t.getAllResponseHeaders)for(o=t.getAllResponseHeaders().split("\n"),a=0;a<o.length;a++)(i=o[a].match(/\s*([^\s]+):\s+([^\s]+)/))&&(s[i[1]]=i[2]);r=n(r,{status:t.status,contentType:t.contentType||t.getResponseHeader&&t.getResponseHeader("Content-Type"),headers:s,text:t.responseText,body:t.response||t.responseText})}catch(l){}return r}},339:function(e,t){function r(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e}e.exports=r},340:function(e,t){"use strict";e.exports=function(e){var t,r=!1;return function(){return r||(r=!0,t=e.apply(this,arguments)),t}}},341:function(e,t,r){"use strict";var n=r(342),o=r(340),a=!1,i=o(function(){return"undefined"!=typeof window&&null!==window&&window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest});e.exports={createXHR:function(e){var t,r,o;if("undefined"!=typeof window&&null!==window&&(t=n(e.url),r=n(window.location.href),t.host&&(t.protocol!==r.protocol||t.host!==r.host||t.port!==r.port))){if(!a&&e.headers)for(o in e.headers)if(e.headers.hasOwnProperty(o)){a=!0,window&&window.console&&window.console.warn&&window.console.warn("Request headers are ignored in old IE when using the oldiexdomain plugin.");break}if(window.XDomainRequest&&!i()){var s=new window.XDomainRequest;return s.setRequestHeader=function(){},s}}}}},342:function(e,t){(function(){var t,r,n,o,a={}.hasOwnProperty;r=/^(?:(?:([^:\/?\#]+:)\/+|(\/\/))(?:([a-z0-9-\._~%]+)(?::([a-z0-9-\._~%]+))?@)?(([a-z0-9-\._~%!$&'()*+,;=]+)(?::([0-9]+))?)?)?([^?\#]*?)(\?[^\#]*)?(\#.*)?$/,o=function(e,t){return o.URL.parse(e,t)},o.URL=t=function(){function e(e){var t,r,o;for(t in n)a.call(n,t)&&(r=n[t],this[t]=null!=(o=e[t])?o:r);this.host||(this.host=this.hostname&&this.port?""+this.hostname+":"+this.port:this.hostname?this.hostname:""),this.origin||(this.origin=this.protocol?""+this.protocol+"//"+this.host:""),this.isAbsolutePathRelative=!this.host&&"/"===this.pathname.charAt(0),this.isPathRelative=!this.host&&"/"!==this.pathname.charAt(0),this.isRelative=this.isSchemeRelative||this.isAbsolutePathRelative||this.isPathRelative,this.isAbsolute=!this.isRelative}return e.parse=function(e){var t,n,a;return t=e.toString().match(r),n=t[8]||"",a=t[1],new o.URL({protocol:a,username:t[3],password:t[4],hostname:t[6],port:t[7],pathname:a&&"/"!==n.charAt(0)?"/"+n:n,search:t[9],hash:t[10],isSchemeRelative:null!=t[2]})},e}(),n={protocol:"",username:"",password:"",host:"",hostname:"",port:"",pathname:"",search:"",hash:"",origin:"",isSchemeRelative:!1},e.exports=o}).call(this)},343:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(19),d=r(311),f=n(d),p=r(328),h=n(p),m=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={storyId:e.storyId,isBookmarked:e.isBookmarked,bookmarkCount:e.bookmarkCount,isBig:e.isBig,buttonSize:{width:38,height:32},bookmarking:!1},this.toggleBookmarkStory=this.toggleBookmarkStory.bind(this)}return a(t,e),i(t,[{key:"onLoad",value:function(){if(this.state.isBig){var e=u["default"].findDOMNode(this.refs["bookmark-icon"]),t=e.children[0];t.setAttribute("width",this.state.buttonSize.width),t.setAttribute("height",this.state.buttonSize.height)}}},{key:"toggleBookmarkStory",value:function(e){var t=this;if(!this.state.bookmarking){var r=this.state.isBookmarked?"unbookmarkStory":"bookmarkStory",n=this.state.isBookmarked?-1:1;this.setState({bookmarking:!0}),c.Parse.Cloud.run(r,{id:this.state.storyId},{success:function(e){t.setState({isBookmarked:!t.state.isBookmarked,bookmarkCount:t.state.bookmarkCount+n,bookmarking:!1})},error:function(e){t.setState({bookmarking:!1}),console.log(e)}})}}},{key:"render",value:function(){var e=f["default"]({bookmarks:!0,highlighted:this.state.isBookmarked});return u["default"].createElement("div",{className:e,onClick:this.toggleBookmarkStory},u["default"].createElement(h["default"],{src:r(344),ref:"bookmark-icon",onLoad:this.onLoad.bind(this)}),this.state.bookmarkCount)}}]),t}(u["default"].Component);t["default"]=m,m.propTypes={isBookmarked:u["default"].PropTypes.bool,isBig:u["default"].PropTypes.bool},m.defaultProps={isBookmarked:!1,isBig:!1},e.exports=t["default"]},344:function(e,t,r){e.exports=r.p+"25e7e7276af32178228d477b597448d1.svg"},345:function(e,t,r){e.exports=r.p+"9ecc5e546ac172197010076d9691a935.jpg"},346:function(e,t,r){e.exports=r.p+"8a6c9751e07dfbc123fe4c6eb1e75575.svg"},347:function(e,t,r){e.exports=r.p+"5fe9fbbed4c2cf548c03c479d8e33aa7.svg"},364:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(l){o=!0,a=l}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},c=r(95),d=n(c),f=r(19),p=r(291),h=n(p),m=r(325),v=r(365),g=n(v),y=r(368),b=n(y),w=r(415),k=n(w),O=r(416),_=n(O),P=r(419),E=n(P),C=r(421),j=n(C),S=h["default"].Component(d["default"]),T=function(e){function t(e){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.data={stories:e.stories,pages:e.pages,likes:e.likes,user:e.user},this.handleClickWriteAssist=this.handleClickWriteAssist.bind(this),this.state={storyId:e.params.id,writeAssistOn:!1}}return a(t,e),l(t,[{key:"observe",value:function(e){var t=e.params.id,r=new f.Parse.Object("Story");r.id=e.params.id;var n=new f.Parse.Query("Story").equalTo("objectId",t),o=new f.Parse.Query("Page").equalTo("story",r).equalTo("statusRaw",1).ascending("createdAt").include("creator"),a=new f.Parse.Query("Aid").matchesQuery("story",n),i=new f.Parse.Query("Aid").matchesQuery("page",o),s=f.Parse.Query.or(a,i);return{stories:n.include("creator").include("approver"),pages:o,likes:new f.Parse.Query("Like").equalTo("story",r).equalTo("creator",f.Parse.User.current()).equalTo("typeRaw",0).include("story").include("page"),aids:s,user:h["default"].currentUser}}},{key:"refresh",value:function(){this.refreshQueries(["stories","pages","aids"])}},{key:"handleClickWriteAssist",value:function(e){this.setState({writeAssistOn:!this.state.writeAssistOn})}},{key:"handleShowCommentBox",value:function(e){var t=this;this.refs.CommentBox.hideCommentBox(),this.data.pages.forEach(function(r){var n="CommentBox_"+r.id.objectId;e!=n&&t.refs[n].hideCommentBox()})}},{key:"renderStoryHeader",value:function(){return d["default"].createElement("div",{className:"story-container grid-block"},this.data.stories.map(function(e){this.data.storyApprover=e.approver;var t=this.data.likes.filter(function(t){return void 0==t.page&&t.story.id.objectId===e.id.objectId}),r="CommentBox",n=this.data.aids&&this.data.aids.filter(function(t){return t.story&&t.story.objectId===e.objectId});return this.data.storyHeaderPage=d["default"].createElement(b["default"],s({},e,{key:e.id.objectId,ref:r,isLiked:t.length>0,onShowCommentsBox:this.handleShowCommentBox.bind(this,r),writeAssistOn:this.state.writeAssistOn,aids:n})),d["default"].createElement(g["default"],s({key:"story-header"},e))},this))}},{key:"renderStoryHeaderPage",value:function(){return this.data.storyHeaderPage}},{key:"renderPagesContent",value:function(){var e=this;return d["default"].createElement("div",null,this.data.pages.map(function(t){var r="CommentBox_"+t.id.objectId,n=e.data.likes&&e.data.likes.filter(function(e){return void 0!==e.page&&e.page.id.objectId===t.id.objectId}),o=e.data.aids&&e.data.aids.filter(function(e){return e.page&&e.page.objectId===t.objectId});return d["default"].createElement(b["default"],s({},t,{key:t.id.objectId,ref:r,onShowCommentsBox:e.handleShowCommentBox.bind(e,r),isLiked:n.length>0,writeAssistOn:e.state.writeAssistOn,likes:e.data.likes,aids:o}))}))}},{key:"renderSubmissions",value:function(e){var t=void 0,r=void 0;return this.data.storyApprover&&this.data.storyApprover.id.objectId===this.data.user.id.objectId?(t="",r=d["default"].createElement(E["default"],s({},this.state,{likes:this.data.likes,refresh:this.refresh.bind(this),refPageId:e.id.objectId}))):(t=d["default"].createElement(k["default"],s({},this.state,{likes:this.data.likes,refPageId:e.id.objectId})),r=d["default"].createElement("div",{className:"grid-container"},d["default"].createElement(_["default"],s({},this.state,{refPageId:e.id.objectId})))),[t,r]}},{key:"render",value:function(){var e=void 0,t=void 0,r=void 0,n=void 0;if(this.pendingQueries().length)e=d["default"].createElement("div",{className:"loading grid-frame"},d["default"].createElement("div",{className:"spinner"},d["default"].createElement("div",{className:"bounce1"}),d["default"].createElement("div",{className:"bounce2"}),d["default"].createElement("div",{className:"bounce3"})));else if(this.data.stories.length){e=d["default"].createElement("div",{className:"small-24 medium-24 large-24 grid-block"},this.renderStoryHeader());var o=this.data.stories[0];if(this.data.pages.length){var a=this.data.pages.length;o=this.data.pages[a-1]}this.data.pages&&this.data.likes&&(t=this.renderPagesContent());var s=this.renderSubmissions(o),l=i(s,2);r=l[0],n=l[1]}else e=d["default"].createElement("div",{className:"grid-frame"},"No Stories");return d["default"].createElement("section",{className:"story vertical"},d["default"].createElement(j["default"],{isOn:this.state.writeAssistOn,onClick:this.handleClickWriteAssist}),d["default"].createElement("div",{className:"aid-category grid-container"},d["default"].createElement("div",{className:"grid-block"},d["default"].createElement("div",{className:"grid-block"},d["default"].createElement("div",{className:"grammar tile"}),d["default"].createElement("div",{className:"grid-block v-align"},"GRAMMAR")),d["default"].createElement("div",{className:"grid-block"},d["default"].createElement("div",{className:"dva tile"}),d["default"].createElement("div",{className:"grid-block v-align"},"DICTION")),d["default"].createElement("div",{className:"grid-block"},d["default"].createElement("div",{className:"slength tile"}),d["default"].createElement("div",{className:"grid-block v-align"},"LENGTH")),d["default"].createElement("div",{className:"grid-block"},d["default"].createElement("div",{className:"passive tile"}),d["default"].createElement("div",{className:"grid-block v-align"},"STYLE")),d["default"].createElement("div",{className:"grid-block"},d["default"].createElement("div",{className:"consistency tile"}),d["default"].createElement("div",{className:"grid-block v-align"},"CONSISTENCY")))),e,this.renderStoryHeaderPage(),t,r,n)}}]),t}(S);t["default"]=m.requireAuth(T);var x=T;t.undecorated=x,T.defaultProps={stories:[],pages:[],likes:[]}},365:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},u=r(95),c=n(u),d=r(19),f=r(291),p=n(f),h=r(343),m=n(h),v=p["default"].Component(c["default"]),g=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={storyId:e.objectId,title:e.title,image:e.image,bookmarkCount:e.bookmarkCount,isBookmarked:!1,totalLikeCount:e.totalLikeCount,pageCount:e.pageCount}}return a(t,e),s(t,[{key:"observe",value:function(e){return{bookmarks:new d.Parse.Query("Bookmark").equalTo("story",e).equalTo("creator",d.Parse.User.current()).include("story")}}},{key:"imageUrl",value:function(){return this.state.image?this.state.image._url:void 0}},{key:"render",value:function(){var e=void 0;if(!this.pendingQueries().length){var t=this.data.bookmarks.length>0&&0==this.data.bookmarks[0].typeRaw;e=c["default"].createElement(m["default"],i({},this.state,{isBig:!0,isBookmarked:t}))}return c["default"].createElement("div",{className:"grid-container"},c["default"].createElement("div",{className:"vertical grid-block"},c["default"].createElement("div",{className:"story-header"},c["default"].createElement("img",{src:this.imageUrl()}),c["default"].createElement("div",{className:"gradient"}),c["default"].createElement("h1",null,this.state.title)),c["default"].createElement("div",{className:"story-meta grid-block hidden"},c["default"].createElement("div",{className:"bookmark-count grid-block align-center"},e),c["default"].createElement("div",{className:"total-like-count grid-block align-center"},c["default"].createElement("img",{src:r(366)}),this.state.totalLikeCount),c["default"].createElement("div",{className:"page-count grid-block align-center"},c["default"].createElement("img",{src:r(367)}),this.state.pageCount))))}}]),t}(v);t["default"]=g,e.exports=t["default"]},366:function(e,t,r){e.exports=r.p+"26b8d9513a1e776f240721d0cca014cc.png"},367:function(e,t,r){e.exports=r.p+"181c343558a086921099076d06db4a40.png"},368:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},u=r(95),c=n(u),d=(r(348),r(369)),f=n(d),p=r(379),h=n(p),m=r(389),v=n(m),g=r(413),y=n(g),b=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={className:this.props.className,viewType:this.props.viewType,commentBoxOpen:!1},this.onClickComment=this.onClickComment.bind(this),this.incrementCommentCount=this.incrementCommentCount.bind(this)}return a(t,e),s(t,[{key:"handleOnToggleViewType",value:function(){this.setState({viewType:"PAGE"==this.state.viewType?"SLIDER":"PAGE",commentBoxOpen:"PAGE"==this.state.viewType?!1:this.state.commentBoxOpen})}},{key:"onClickComment",value:function(e){this.props.onShowCommentsBox(),this.setState({commentBoxOpen:!this.state.commentBoxOpen})}},{key:"hideCommentBox",value:function(){this.setState({commentBoxOpen:!1}),this.refs.page.deselectComment()}},{key:"incrementCommentCount",value:function(){this.refs.page.incrementCommentCount()}},{key:"renderPage",value:function(){var e=void 0;return"Story"!==this.props.className&&this.props.morePageCount>0&&(e=c["default"].createElement("div",{className:"toggle-view-button",onClick:this.handleOnToggleViewType.bind(this)},this.props.morePageCount,c["default"].createElement("br",null),"More",c["default"].createElement("br",null),c["default"].createElement("i",{className:"fa fa-ellipsis-h"}))),c["default"].createElement("div",{className:"page-wrapper grid-container"},c["default"].createElement("div",{className:"center"},c["default"].createElement(h["default"],i({},this.props,{ref:"page",onClickComment:this.onClickComment})),e,c["default"].createElement(f["default"],{onlyChild:!0,appear:!0,enter:{opacity:1},leave:{opacity:0}},this.state.commentBoxOpen&&c["default"].createElement("div",{className:"comment-box-wrapper"},c["default"].createElement(y["default"],{incrementCommentCount:this.incrementCommentCount,className:this.props.className,objectId:this.props.id.objectId})))))}},{key:"renderSlider",value:function(){return c["default"].createElement(v["default"],i({},this.props,{onClose:this.handleOnToggleViewType.bind(this)}))}},{key:"render",value:function(){var e={PAGE:this.renderPage(),SLIDER:this.renderSlider()}[this.state.viewType];return c["default"].createElement("div",{className:"page-row-outer"},e)}}]),t}(c["default"].Component);t["default"]=b,b.propTypes={viewType:c["default"].PropTypes.oneOf(["PAGE","SLIDER"]),onShowCommentsBox:c["default"].PropTypes.func.isRequired},b.defaultProps={viewType:"PAGE"},e.exports=t["default"]},379:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(311),d=n(c),f=r(380),p=n(f),h=r(388),m=n(h),v=r(314),g=n(v),y=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={content:this.props.content,creator:this.props.creator,image:this.props.image,refPageId:this.props.refPageId,commentCount:this.props.commentCount,isCommentSelected:!1},this.handleClickComment=this.handleClickComment.bind(this)}return a(t,e),i(t,[{key:"contentText",value:function(){var e=this,t=this.state.content;if(this.props.aids&&this.props.aids.length){var r=this.props.aids[0].content.tags.reduce(function(e,r){var n=e[e.length-1],o={content:t.slice(r.startPos,r.endPos+1),startPos:r.startPos,endPos:r.endPos,tag:r};if(n.startPos>=r.startPos)e.splice(e.length-1,0,o);else{var a={content:n.content.slice(0,r.startPos-n.startPos),startPos:n.startPos,endPos:r.startPos-1},i={content:n.content.slice(r.endPos+1-n.startPos),startPos:r.endPos+1,endPos:n.endPos};e.splice(e.length-1,0,a),e.splice(e.length-1,0,o),e.splice(e.length-1,1,i)}return e},[{content:t,startPos:0,endPos:t.length}]).reduce(function(t,r,n,o){if(r.tag){if(n>0&&r.startPos>=o[n-1].startPos&&r.endPos<=o[n-1].endPos){var a=t[t.length-1],i=[u["default"].createElement(p["default"],{writeAssistOn:e.props.writeAssistOn,tag:r.tag,key:n},r.content),u["default"].createElement(p["default"],{writeAssistOn:e.props.writeAssistOn,tag:o[n-1].tag,key:n-1},a.props.children.slice(o[n-1].endPos-r.endPos))];return t[t.length-1]=u["default"].createElement("span",{writeAssistOn:e.props.writeAssistOn,tag:o[n-1].tag,key:n},i),t}return t.push(u["default"].createElement(p["default"],{writeAssistOn:e.props.writeAssistOn,tag:r.tag,key:n},r.content)),t}return t.push(r.content),t},[]);return u["default"].createElement("p",null,r)}return u["default"].createElement("p",null,this.state.content)}},{key:"imageContent",value:function(){return this.state.image&&this.state.refPageId?u["default"].createElement("div",null,u["default"].createElement("img",{src:this.state.image._url})):void 0}},{key:"handleClickComment",value:function(){this.props.onClickComment(this.props.objectId),this.setState({isCommentSelected:!this.state.isCommentSelected})}},{key:"deselectComment",value:function(){this.setState({isCommentSelected:!1})}},{key:"incrementCommentCount",value:function(){this.setState({commentCount:this.state.commentCount+1})}},{key:"render",value:function(){var e=d["default"]({button:!0,"comment-button":!0,active:this.state.isCommentSelected}),t=void 0;this.props.onClickComment&&(t=u["default"].createElement("div",{className:e,onClick:this.handleClickComment},u["default"].createElement("i",{className:"fa fa-comment"}),u["default"].createElement("span",{className:"comment-count"},this.state.commentCount)));var r=this.state.creator;return u["default"].createElement("div",{className:"page small-24 large-24 grid-block"},u["default"].createElement("div",{className:"line"}),u["default"].createElement("div",{className:"avatar small-3"},u["default"].createElement("img",{src:g["default"].getAvatar(r),title:g["default"].getDisplayName(r)})),t,u["default"].createElement(m["default"],this.props),u["default"].createElement("div",{className:"content small-18"},this.contentText(),this.imageContent()))}}]),t}(u["default"].Component);t["default"]=y,y.defaultProps={commentCount:0},y.propTypes={onClickComment:u["default"].PropTypes.func},e.exports=t["default"]},380:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0
});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(311),d=(n(c),r(381)),f=n(d),p=r(386),h=n(p),m=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.handleClick=this.handleClick.bind(this),this.state={showHint:!1}}return a(t,e),i(t,[{key:"handleClick",value:function(e){this.setState({showHint:!this.state.showHint})}},{key:"render",value:function(){var e=void 0,t={attachment:"top left",targetAttachment:"bottom right",constraints:[{to:"window",attachment:"together"}]},r=this.props.writeAssistOn?this.props.tag.report:"";return this.state.showHint?e=u["default"].createElement(f["default"],{tethered:u["default"].createElement(h["default"],{category:this.props.tag.categoryDisplayName,hint:this.props.tag.hint,report:this.props.tag.report,onClose:this.handleClick}),tetherOptions:t},u["default"].createElement("span",{className:r,onClick:this.handleClick},this.props.children)):u["default"].createElement("span",{className:r,onClick:this.handleClick},this.props.children)}}]),t}(u["default"].Component);t["default"]=m,e.exports=t["default"]},381:function(e,t,r){"use strict";var n=r(382),o=r(95),a=r(384),i=o.createClass({displayName:"TetherTarget",propTypes:{tethered:o.PropTypes.node.isRequired,tetherOptions:o.PropTypes.object.isRequired},getInitialState:function(){return{tooltipVisible:!1}},componentDidMount:function(){var e=n.merge({target:this.getDOMNode()},this.props.tetherOptions);this.tethered=new a(this.props.tethered,e)},componentWillUnmount:function(){this.tethered.destroy()},componentDidUpdate:function(){this.tethered.update()},render:function(){var e=n.omit(this.props,["tethered","tetherOptions"]);return o.createElement("span",e,this.props.children)}});e.exports=i},384:function(e,t,r){"use strict";function n(e,t){this.reactComponent=e,this.domNode=document.createElement("div"),this.domNode.style.position="absolute",document.body.appendChild(this.domNode),this.tether=new i(o.merge({element:this.domNode},t)),this.update()}var o=r(382),a=r(95),i=r(385);n.prototype.update=function(){var e=this;a.render(this.reactComponent,this.domNode,function(){return e.tether.position()})},n.prototype.destroy=function(){a.unmountComponentAtNode(this.domNode),this.domNode.parentNode.removeChild(this.domNode),this.tether.destroy()},e.exports=n},386:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(311),d=n(c),f=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){return u["default"].createElement("div",{className:"hint-dialog"},u["default"].createElement("div",{className:"hint-content"},u["default"].createElement("div",{className:"hint-header"},u["default"].createElement("a",{href:"#close",className:"btn-close","aria-hidden":"true",onClick:this.props.onClose},u["default"].createElement("img",{src:r(387)}))),u["default"].createElement("div",{className:d["default"]("hint-body",this.props.report)},u["default"].createElement("p",{className:"hint-title"},this.props.category),u["default"].createElement("p",null,this.props.hint))))}}]),t}(u["default"].Component);t["default"]=f,e.exports=t["default"]},387:function(e,t,r){e.exports=r.p+"d7117299eefb9cfea7cbc54dad34ecd5.png"},388:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(19),d=r(311),f=n(d),p=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={objectId:e.objectId,isLiked:e.isLiked,likeCount:e.likeCount,liking:!1},this.toggleLike=this.toggleLike.bind(this)}return a(t,e),i(t,[{key:"toggleLike",value:function(){var e=this;if(!this.state.liking){var t=this.state.isLiked?"unlikePage":"likePage",r=this.state.isLiked?-1:1,n="Story"===this.props.className?"story":"page";this.setState({liking:!0}),c.Parse.Cloud.run(t,{id:this.state.objectId,storyOrPage:n},{success:function(t){e.setState({isLiked:!e.state.isLiked,likeCount:e.state.likeCount+r,liking:!1})},error:function(t){e.setState({liking:!1}),console.log(t)}})}}},{key:"render",value:function(){var e=f["default"]({button:!0,"like-button":!0,highlighted:this.state.isLiked});return u["default"].createElement("div",{className:e,onClick:this.toggleLike},u["default"].createElement("i",{className:"fa fa-heart"}),u["default"].createElement("span",{className:"like-count"},this.state.likeCount))}}]),t}(u["default"].Component);t["default"]=p,p.propTypes={isLiked:u["default"].PropTypes.bool,likeCount:u["default"].PropTypes.number},p.defaultProps={isLiked:!1,likeCount:0},e.exports=t["default"]},389:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},u=r(95),c=n(u),d=r(19),f=r(291),p=n(f),h=r(311),m=n(h),v=r(390),g=n(v),y=r(379),b=n(y),w=p["default"].Component(c["default"]),k=r(348),O=k.Motion,_=k.spring,P=k.presets,E=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={savedPages:e.savedPages},this.data={pages:e.pages,likes:e.likes}}return a(t,e),s(t,[{key:"observe",value:function(e){if(void 0==e.refPageId||""===e.refPageId)return{};var t=new d.Parse.Query("Page").equalTo("refPageId",e.refPageId).ascending("createdAt").include("creator");return{pages:t,aids:new d.Parse.Query("Aid").matchesQuery("page",t)}}},{key:"render",value:function(){var e=this;return c["default"].createElement(O,{defaultStyle:{height:0},style:{height:_(100,P.stiff)}},function(t){return c["default"].createElement("div",{className:"page-slider-wrapper"},c["default"].createElement("div",{className:"content-wrapper",style:{height:4.2*t.height+"px"}},c["default"].createElement(g["default"],{settings:{className:"page-slider-slick"}},e.data.pages.map(function(t,r){var n=m["default"]({approved:1==t.statusRaw}),o=e.data.likes&&e.data.likes.filter(function(e){return void 0!==e.page&&e.page.id.objectId===t.id.objectId});return c["default"].createElement("div",{key:t.id.objectId,className:n},c["default"].createElement(b["default"],i({},t,{key:t.id.objectId,isLiked:o.length>0,writeAssistOn:e.props.writeAssistOn})))},e))),c["default"].createElement("div",{className:"close-slider-button button",onClick:e.props.onClose},"Close"))})}}]),t}(w);t["default"]=E,E.propTypes={pages:c["default"].PropTypes.array.isRequired,likes:c["default"].PropTypes.array.isRequired,onClose:c["default"].PropTypes.func.isRequired},E.defaultProps={pages:[],likes:[]},e.exports=t["default"]},390:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(391),d=n(c),f=r(251),p=n(f),h=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e);var r={infinite:!1,speed:500,slidesToShow:3,slidesToScroll:1,arrows:!0};this.state={settings:p["default"]({},r,e.settings)}}return a(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({settings:p["default"]({},this.state.settings,e.settings)})}},{key:"render",value:function(){return u["default"].createElement("div",{className:"slick-slider-wrapper"},u["default"].createElement(d["default"],this.state.settings,this.props.children))}}]),t}(u["default"].Component);t["default"]=h,h.propTypes={settings:u["default"].PropTypes.object},h.defaultProps={settings:{}},e.exports=t["default"]},413:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},u=r(95),c=n(u),d=r(19),f=r(291),p=n(f),h=r(414),m=n(h),v=p["default"].Component(c["default"]),g=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e);var r=void 0,n=void 0;this.isStory(e)?(r=new d.Parse.Object("Story"),r.id=e.objectId):(n=new d.Parse.Object("Page"),n.id=e.objectId),this.state={story:r,page:n},this.data={comments:this.props.comments}}return a(t,e),s(t,[{key:"observe",value:function(e){var t=new d.Parse.Query("Comment").include("creator").ascending("createdAt");return t=this.isStory(e)?t.equalTo("story",this.state.story):t.equalTo("page",this.state.page),{comments:t}}},{key:"isStory",value:function(e){return"Story"===e.className?!0:!1}},{key:"componentDidUpdate",value:function(){var e=c["default"].findDOMNode(this.refs["message-area"]);e.scrollTop=e.scrollHeight}},{key:"handleAddComment",value:function(e){var t=this;e.preventDefault();var r=c["default"].findDOMNode(this.refs.message).value.trim();r&&p["default"].Mutation.Create("Comment",{content:r,story:this.state.story,page:this.state.page,creator:d.Parse.User.current()}).dispatch().then(function(){c["default"].findDOMNode(t.refs.message).value="",t.refreshQueries(),t.props.incrementCommentCount()})}},{key:"render",value:function(){return c["default"].createElement("div",{className:"comment-box"},c["default"].createElement("p",{className:"header"},"Discussion"),c["default"].createElement("div",{className:"message-area",ref:"message-area"},this.data.comments.map(function(e){return c["default"].createElement(m["default"],i({},e,{key:e.id.objectId}))})),c["default"].createElement("form",{onSubmit:this.handleAddComment.bind(this)},c["default"].createElement("input",{type:"text",ref:"message",placeholder:"Say something..."})))}}]),t}(v);t["default"]=g,g.propTypes={objectId:c["default"].PropTypes.string.isRequired},g.defaultProps={comments:[],objectId:""},e.exports=t["default"]},414:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(314),d=n(c),f=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return a(t,e),i(t,[{key:"render",value:function(){var e=this.props.creator||{};return u["default"].createElement("div",{className:"comment"},u["default"].createElement("img",{src:d["default"].getAvatar(e)}),u["default"].createElement("div",{className:"text"},u["default"].createElement("p",{className:"username"},d["default"].getDisplayName(e)),u["default"].createElement("p",{className:"content"},this.props.content)))}}]),t}(u["default"].Component);t["default"]=f,f.propTypes={content:u["default"].PropTypes.string,creator:u["default"].PropTypes.object},f.defaultProps={content:"",creator:{}},e.exports=t["default"]},415:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},u=r(95),c=n(u),d=r(19),f=r(291),p=n(f),h=r(379),m=n(h),v=r(390),g=n(v),y=p["default"].Component(c["default"]),b=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={isShowing:e.isShowing,isSmall:this.props.isSmall},this.data={pages:e.pages,likes:e.likes}}return a(t,e),s(t,[{key:"observe",value:function(e){var t=new d.Parse.Object("Story");t.id=e.storyId;var r=e.refPageId,n=new d.Parse.Query("Page").equalTo("story",t).equalTo("refPageId",r).equalTo("statusRaw",0).ascending("createdAt").include("creator");return{pages:n,aids:new d.Parse.Query("Aid").matchesQuery("page",n),user:p["default"].currentUser}}},{key:"toggleShowHide",value:function(){this.state.isShowing=!this.state.isShowing,this.setState({isSmall:!this.state.isShowing})}},{key:"renderPending",value:function(){var e=this;return this.state.isShowing&&this.data.pages.length?c["default"].createElement("div",{className:"pending-pages small-up-3 grid-block"},c["default"].createElement(g["default"],{settings:{className:"submissions-slider"}},this.data.pages.map(function(t,r){var n=e.data.likes&&e.data.likes.filter(function(e){return void 0!==e.page&&e.page.id.objectId===t.id.objectId}),o=e.data.aids&&e.data.aids.filter(function(e){return e.page.objectId===t.objectId});return c["default"].createElement("div",{key:t.id.objectId},c["default"].createElement(m["default"],i({},t,{isSmall:!1,isLiked:n.length>0,aids:o,writeAssistOn:e.props.writeAssistOn})))},this))):null}},{key:"render",value:function(){return c["default"].createElement("div",{className:"submissions"},c["default"].createElement("div",{className:"show-hide grid-container"},c["default"].createElement("div",{className:"button hollow",onClick:this.toggleShowHide.bind(this)},this.state.isShowing?"Hide submissions":"See current submissions")),this.renderPending())}}]),t}(y);t["default"]=b,b.propTypes={isShowing:c["default"].PropTypes.bool.isRequired,isSmall:c["default"].PropTypes.bool.isRequired,pages:c["default"].PropTypes.array.isRequired,likes:c["default"].PropTypes.array.isRequired},b.defaultProps={isShowing:!1,isSmall:!0,pages:[],likes:[]},e.exports=t["default"]},416:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(19),d=r(291),f=n(d),p=r(417),h=n(p),m=r(418),v=n(m),g=r(314),y=n(g),b=r(311),w=n(b),k=f["default"].Component(u["default"]),O=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e);var r=new c.Parse.Object("Story");r.id=e.storyId,this.state={storyId:e.storyId,story:r,refPageId:e.refPageId,creator:e.creator,userInput:null,saving:!1,submitting:!1},this.handleChange=this.handleChange.bind(this)}return a(t,e),i(t,[{key:"componentDidUpdate",value:function(){null===this.state.userInput&&this.data.drafts.length&&this.setState({userInput:this.data.drafts[0].content})}},{key:"observe",value:function(e){var t=new c.Parse.Object("Story");return t.id=e.storyId,{user:f["default"].currentUser,drafts:new c.Parse.Query("Page").equalTo("story",t).equalTo("statusRaw",h["default"].DRAFTED).equalTo("creator",c.Parse.User.current()).ascending("createdAt").include("creator")}}},{key:"handleCancel",value:function(e){e.preventDefault(),this.setState({userInput:""}),this._deleteFromParse()}},{key:"handleSaveDraft",value:function(e){var t=this._gatherData(e);t&&(this.setState({saving:!0}),this.data.drafts.length?this._updateToParse(t):this._saveNewToParse(t,h["default"].DRAFTED))}},{key:"handleSubmit",value:function(e){this.setState({submitting:!0}),this._deleteFromParse(),this._saveNewToParse(this._gatherData(e),h["default"].PENDING)}},{key:"handleChange",value:function(e){this.setState({userInput:e.target.value})}},{key:"_gatherData",value:function(e){e.preventDefault();var t=this.state.userInput.trim();if(t)return t}},{key:"_deleteFromParse",value:function(){this.data.drafts.length&&f["default"].Mutation.Destroy(this.data.drafts[0]).dispatch()}},{key:"_updateToParse",value:function(e){var t=this;f["default"].Mutation.Set(this.data.drafts[0],{content:e}).dispatch().then(function(){t.setState({saving:!1})})}},{key:"_saveNewToParse",value:function(e,t){var r=this;f["default"].Mutation.Create("Page",{content:e,statusRaw:t,refPageId:this.state.refPageId,story:this.state.story,likeCount:0,creator:c.Parse.User.current()}).dispatch().then(function(){t!==h["default"].DRAFTED&&r.setState({userInput:""}),r.setState({submitting:!1}),r.setState({saving:!1})})}},{key:"render",value:function(){var e=this.data.user;return u["default"].createElement("div",{className:"new-submission small-24 large-24 vertical grid-block"},u["default"].createElement(v["default"],{onChange:this.handleChange,value:this.state.userInput,avatarUrl:y["default"].getAvatar(e)}),u["default"].createElement("div",{className:"button-actions grid-block align-right"},u["default"].createElement("div",{className:"small-4 small-offset-1 medium alert hollow button hide",onClick:this.handleCancel.bind(this),ref:"cancelBtn"},"Cancel"),u["default"].createElement("div",{className:"small-5 small-offset-7 medium hollow button",onClick:this.handleSaveDraft.bind(this),ref:"saveDraftBtn"},u["default"].createElement("span",{className:w["default"]({hide:this.state.saving})},"Save Draft"),u["default"].createElement("div",{className:w["default"]("button-spinner",{hide:!this.state.saving})})),u["default"].createElement("div",{className:"small-4 small-offset-1 medium success hollow button",onClick:this.handleSubmit.bind(this),ref:"submitBtn"},u["default"].createElement("span",{className:w["default"]({hide:this.state.submitting})},"Submit"),u["default"].createElement("div",{className:w["default"]("button-spinner","success",{hide:!this.state.submitting})}))))}}]),t}(k);t["default"]=O,e.exports=t["default"]},417:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={PENDING:0,APPROVED:1,DISAPPROVED:2,DRAFTED:3};t["default"]=r,e.exports=t["default"]},418:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){return u["default"].createElement("div",{className:"textarea-container grid-block small-2-up"},u["default"].createElement("div",{className:"avatar small-3 align-center"},u["default"].createElement("img",{src:this.props.avatarUrl})),u["default"].createElement("div",{className:"grid-block small-20"},u["default"].createElement("textarea",{placeholder:this.props.placeholder,ref:"contribution",value:this.props.value,onChange:this.props.onChange})))}}]),t}(u["default"].Component);t["default"]=c,c.propTypes={avatarUrl:u["default"].PropTypes.string,placeholder:u["default"].PropTypes.string,value:u["default"].PropTypes.string,onChange:u["default"].PropTypes.func},c.defaultProps={avatarUrl:r(315),placeholder:"What happens next?",value:null},e.exports=t["default"]},419:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},c=r(95),d=n(c),f=r(19),p=r(291),h=n(p),m=r(311),v=n(m),g=r(251),y=n(g),b=r(390),w=n(b),k=r(420),O=n(k),_=h["default"].Component(d["default"]),P=function(e){function t(e){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={isFiltering:e.isFiltering,savedPages:e.savedPages},this.data={pages:e.pages,likes:e.likes}}return i(t,e),l(t,[{key:"observe",value:function(e){var t=new f.Parse.Object("Story");t.id=e.storyId;var r=e.refPageId;return{pages:new f.Parse.Query("Page").equalTo("story",t).equalTo("refPageId",r).equalTo("statusRaw",0).ascending("createdAt").include("creator"),user:h["default"].currentUser}}},{key:"refreshStory",value:function(){this.props.refresh()}},{key:"toggleFilter",value:function(){this.setState({isFiltering:!this.state.isFiltering})}},{key:"renderSlider",value:function(){var e=this,t=this.data.pages||[];if(this.state.isFiltering&&(t=t.filter(function(t){return e.state.savedPages[t.id.objectId]})),!t||!t.length)return null;var r={className:"approve-slide-slick"};return d["default"].createElement("div",{className:"approve-slide-slick-wrapper small-up-3 grid-block"},d["default"].createElement(w["default"],{settings:r,key:this.state.isFiltering?"filterOn":"filterOff"},t.map(function(t,r){var n=e.data.likes&&e.data.likes.filter(function(e){return void 0!==e.page&&e.page.id.objectId===t.id.objectId});return d["default"].createElement("div",{key:t.id.objectId},d["default"].createElement(O["default"],s({key:t.id.objectId,isLiked:n.length>0,onSaveClick:e.handlePageSave.bind(e,t),refreshStory:e.refreshStory.bind(e),isSaved:e.state.savedPages[t.id.objectId]},t)))},this)))}},{key:"handlePageSave",value:function(e,t){this.setState({savedPages:y["default"]({},this.state.savedPages,o({},e.id.objectId,t))})}},{key:"render",value:function(){var e=v["default"]({"fa fa-star star-icon":!0,active:this.state.isFiltering});return d["default"].createElement("div",{className:"approve-slider-section"},d["default"].createElement("div",{className:"filter-button grid-container",onClick:this.toggleFilter.bind(this)},d["default"].createElement("i",{className:e})),this.renderSlider())}}]),t}(_);t["default"]=P,P.propTypes={isFiltering:d["default"].PropTypes.bool.isRequired,pages:d["default"].PropTypes.array.isRequired,savedPages:d["default"].PropTypes.object.isRequired,likes:d["default"].PropTypes.array.isRequired},P.defaultProps={isFiltering:!1,pages:[],savedPages:{},likes:[]},e.exports=t["default"]},420:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(19),d=r(291),f=n(d),p=r(311),h=n(p),m=r(379),v=n(m),g=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={isSaved:this.props.isSaved}}return a(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.id.objectId!=this.props.id.objectId||t!=this.state}},{key:"handleOnSaveClick",value:function(){var e=!this.state.isSaved;this.setState({isSaved:e}),this.props.onSaveClick(e)}},{key:"handleOnApproveClick",value:function(){var e=this;f["default"].Mutation.Set(this.props,{statusRaw:1}).dispatch().then(function(){c.Parse.Cloud.run("approvePage",{pageId:e.props.objectId},{success:function(t){console.log(t),e.props.refreshStory()},error:function(e){console.log(e)}})})}},{key:"render",value:function(){var e=h["default"]({"fa fa-star":!0,"star-icon":!0,active:this.state.isSaved});return u["default"].createElement("div",{className:"page-actions-row"},u["default"].createElement(v["default"],this.props),u["default"].createElement("div",{className:"footer-buttons"},u["default"].createElement("div",{className:"approve-button info button hollow",onClick:this.handleOnApproveClick.bind(this)},"Approve"),u["default"].createElement("i",{className:e,onClick:this.handleOnSaveClick.bind(this)})))}}]),t}(u["default"].Component);t["default"]=g,g.propTypes={onSaveClick:u["default"].PropTypes.func.isRequired},g.defaultProps={isSaved:!1},e.exports=t["default"]},421:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.handleClickWriteAssist=this.handleClickWriteAssist.bind(this)}return a(t,e),i(t,[{key:"handleClickWriteAssist",value:function(e){this.props.onClick(e)}},{key:"render",value:function(){return u["default"].createElement("div",{className:"write-assist"},u["default"].createElement("a",{onClick:this.handleClickWriteAssist},u["default"].createElement("img",{src:r(this.props.isOn?422:423)})),u["default"].createElement("p",null,this.props.isOn?"Write Assist On":"Write Assist Off"))}}]),t}(u["default"].Component);t["default"]=c,e.exports=t["default"]},422:function(e,t,r){e.exports=r.p+"b430f961f20a701b7da754db57bbc14a.png"},423:function(e,t,r){e.exports=r.p+"204d2050b04681407e254ae478a0e200.png"},424:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(19),d=r(323),f=n(d),p=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.resetPassword=this.resetPassword.bind(this),this.state={error:null,resetSent:!1}}return a(t,e),i(t,[{key:"render",value:function(){var e=void 0,t=void 0;return this.state.error&&(e=u["default"].createElement(f["default"],{messages:[this.state.error]})),t=this.state.resetSent?u["default"].createElement("div",{className:"grid-block align-center"},u["default"].createElement("p",null,"A reset password email has been sent to your email address.")):u["default"].createElement("div",null,u["default"].createElement("input",{ref:"email",className:"email",type:"email",placeholder:"your@email.com"}),u["default"].createElement("div",{className:"grid-block align-right"},u["default"].createElement("input",{className:"button",type:"submit",value:"Reset my password",onClick:this.resetPassword})),e),u["default"].createElement("form",{className:"session grid-block",onKeyDown:this.keyDown},u["default"].createElement("div",{className:"grid-container small-18"},u["default"].createElement("h1",null,"Reset Password"),t))}},{key:"resetPassword",value:function(e){var t=this;e.preventDefault();var r=u["default"].findDOMNode(this.refs.email).value;return r?void c.Parse.Cloud.run("resetPassword",{email:r}).then(function(e){t.setState({error:null,resetSent:!0})},function(e){t.setState({error:e.message})}):void this.setState({error:"Please provide email"})}}]),t}(u["default"].Component);t["default"]=p,e.exports=t["default"]},425:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(321),d=n(c),f=r(312),p=n(f),h=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){return null}}],[{key:"willTransitionTo",value:function(e){p["default"].logOut(function(){d["default"]("google").logout(),e.redirect("/")})}}]),t}(l.Component);t["default"]=h,h.contextTypes={router:u["default"].PropTypes.func},e.exports=t["default"]},426:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(323),d=n(c),f=r(427),p=n(f),h=r(311),m=n(h),v=r(432),g=n(v),y=r(433),b=n(y),w=r(291),k=n(w),O=r(19),_=k["default"].Component(u["default"]),P=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={error:null,passwordStrength:0,enableSubmit:!1,newPasswordSaved:!1},this.handlePasswordChange=this.handlePasswordChange.bind(this),this.handleConfirmPasswordChange=this.handleConfirmPasswordChange.bind(this),this.getPassword=this.getPassword.bind(this),this.getConfirmPassword=this.getConfirmPassword.bind(this),this.clickSubmit=this.clickSubmit.bind(this),this.handleAvatarChange=this.handleAvatarChange.bind(this),this.handleAvatarUpload=this.handleAvatarUpload.bind(this)}return a(t,e),i(t,[{key:"observe",value:function(){return{user:k["default"].currentUser}}},{key:"getPassword",value:function(){return u["default"].findDOMNode(this.refs.password).value}},{key:"getConfirmPassword",value:function(){return u["default"].findDOMNode(this.refs.confirmPassword).value}},{key:"handlePasswordChange",value:function(e){var t=p["default"](this.getPassword()).score;this.setState({passwordStrength:t,enableSubmit:t>=2&&this.getPassword()===this.getConfirmPassword()})}},{key:"handleConfirmPasswordChange",value:function(e){this.setState({enableSubmit:this.state.passwordStrength>=2&&this.getPassword()===this.getConfirmPassword()})}},{key:"handleAvatarUpload",value:function(e){var t=this;console.log(e);var r=new O.Parse.File("file",e[0]);r.save().then(function(){k["default"].Mutation.Set(t.data.user,{smallAvatar:r}).dispatch()})}},{key:"handleAvatarChange",value:function(e){k["default"].Mutation.Set(this.data.user,{smallAvatar:e.image}).dispatch()}},{key:"clickSubmit",value:function(e){if(e.preventDefault(),this.state.enableSubmit){O.Parse.User.current();k["default"].Mutation.Set(this.data.user,{password:this.getPassword()}).dispatch(),console.log("new password saved with score: "),console.log(this.state.passwordStrength),this.setState({newPasswordSaved:!0})}}},{key:"render",value:function(){var e=this.state.passwordStrength,t=this.state.enableSubmit?"":"disabled",r=void 0,n=void 0,o=void 0,a=void 0;switch(this.state.newPasswordSaved&&(a=u["default"].createElement("p",{className:"password-saved-text"},"New password saved")),this.state.error&&(r=u["default"].createElement(d["default"],{messages:[this.state.error]})),e){case 0:o="",n="Password too weak";break;case 1:o="low",n="Password too weak";break;case 2:o="medium",n="Password fair";break;case 3:case 4:o="high",n="Password strong"}return u["default"].createElement("div",null,u["default"].createElement("form",{className:"session grid-block",onKeyDown:this.keyDown},u["default"].createElement("div",{className:"grid-container small-18"},u["default"].createElement("h1",null,"Reset Password"),u["default"].createElement("input",{ref:"password",className:"password",type:"password",placeholder:"New password",onChange:this.handlePasswordChange}),u["default"].createElement("input",{ref:"confirmPassword",className:"confirm-password",type:"password",placeholder:"Confirm your password",onChange:this.handleConfirmPasswordChange}),u["default"].createElement("div",{className:"grid-block align-right"},u["default"].createElement("div",{className:"small-16 grid-block"},u["default"].createElement("progress",{className:o,value:e,max:"4"})),u["default"].createElement("div",{className:"small-6 small-offset-2 align-right grid-block"},u["default"].createElement("p",null,n))),u["default"].createElement("div",{className:"grid-block align-right"},u["default"].createElement("div",{className:"grid-block align-left"},a),u["default"].createElement("div",{className:"grid-block align-right"},u["default"].createElement("input",{className:m["default"]("button",{disabled:t}),type:"submit",value:"Submit",onClick:this.clickSubmit}))),r)),u["default"].createElement(b["default"],{onDrop:this.handleAvatarUpload}),u["default"].createElement(g["default"],{onChange:this.handleAvatarChange}))}}]),t}(_);t["default"]=P,e.exports=t["default"]},432:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(19),d=r(291),f=n(d),p=f["default"].Component(u["default"]),h={onChange:u["default"].PropTypes.func},m=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.onClickImage=this.onClickImage.bind(this)}return a(t,e),i(t,[{key:"observe",value:function(){return{avatars:new c.Parse.Query("Avatar")}}},{key:"renderAvatar",value:function(){var e=this;return this.data.avatars.map(function(t,r){var n=t.image._url;return u["default"].createElement("div",{className:"grid-block align-center",key:t.objectId},u["default"].createElement("a",{onClick:e.onClickImage.bind(e,r)},u["default"].createElement("img",{className:"avatar-img",src:n})))})}},{key:"onClickImage",value:function(e,t){t.preventDefault(),this.props.onChange&&this.props.onChange(this.data.avatars[e])}},{key:"render",value:function(){var e=this.renderAvatar();return u["default"].createElement("div",{className:"choose-avatar-block grid-block"},u["default"].createElement("div",{className:"grid-container small-18 avatar-section"},u["default"].createElement("h2",{className:"avatar-subheading"},"Select"),u["default"].createElement("div",{className:"vertical medium-horizontal grid-block small-up-4"},e)))}}]),t}(p);t["default"]=m,m.propTypes=h,e.exports=t["default"]},433:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=(r(19),r(434)),d=n(c),f=r(291),p=n(f),h=p["default"].Component(u["default"]),m={onDrop:u["default"].PropTypes.func},v=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.onDrop=this.onDrop.bind(this)}return a(t,e),i(t,[{key:"onDrop",value:function(e){this.props.onDrop&&this.props.onDrop(e)}},{key:"observe",value:function(){}},{key:"render",value:function(){return u["default"].createElement("div",{className:"choose-avatar-block grid-block"},u["default"].createElement("div",{className:"grid-container small-18 avatar-section"},u["default"].createElement("h1",null,"Choose avatar"),u["default"].createElement("h2",{className:"avatar-subheading"},"Upload"),u["default"].createElement("div",{className:"grid-block align-center"},u["default"].createElement(d["default"],{onDrop:this.onDrop,className:"avatar-dropzone"},u["default"].createElement("img",{className:"upload-avatar-icon",src:r(436)})))))}}]),t}(h);t["default"]=v,v.propTypes=m,e.exports=t["default"]},436:function(e,t,r){e.exports=r.p+"e3c7d978a3b9677c94fd60542f5c1a1b.png"},437:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e.map(function(e){return{label:e.name,value:p["default"](e.name)}})}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},c=r(382),d=n(c),f=r(438),p=n(f),h=r(95),m=n(h),v=r(19),g=r(291),y=n(g),b=r(440),w=n(b),k=r(443),O=(n(k),r(325)),_=r(447),P=n(_),E=r(418),C=n(E),j=r(454),S=n(j),T=r(457),x=n(T),N=r(458),I=n(N),A=r(459),D=n(A),M=r(311),R=n(M),q=y["default"].Component(m["default"]),L=function(e){function t(e){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.handleDrop=this.handleDrop.bind(this),this.updateStory=this.updateStory.bind(this),this.uploadImage=this.uploadImage.bind(this),this.handleCreate=this.handleCreate.bind(this),this.createNewStory=this.createNewStory.bind(this),this.handleSaveDraft=this.handleSaveDraft.bind(this),this.handleTitleChange=this.handleTitleChange.bind(this),this.handleLabelChange=this.handleLabelChange.bind(this),this.getSelectedLabels=this.getSelectedLabels.bind(this),this.handleContentChange=this.handleContentChange.bind(this),this.state={title:null,content:null,saveDraft:!1,classOptions:[],genreOptions:[],assignmentOptions:[],miscOptions:[],storyId:null,creating:!1,saving:!1,_notificationSystem:null}}return a(t,e),l(t,[{key:"observe",value:function(e,t){var r={labels:new v.Parse.Query("Label"),user:new v.Parse.Query(v.Parse.User).equalTo("objectId",v.Parse.User.current().id)};return t.storyId&&(r.story=new v.Parse.Query("Story").equalTo("objectId",t.storyId)),r}},{key:"componentDidMount",value:function(){this._notificationSystem=this.refs.notificationSystem}},{key:"uploadImage",value:function(){var e=void 0;if(this.state.files){var t=new v.Parse.File("file",this.state.files[0]);e=t.save()}else e=v.Parse.Promise.as();return e}},{key:"getSelectedLabels",value:function(){var e=this;return[this.state.classOptions,this.state.genreOptions,this.state.assignmentOptions,this.state.miscOptions].map(function(t,r){return t.map(function(t){return e.data.labels.find(function(e){return p["default"](e.name)===t.value&&e.typeRaw===r})})}).reduce(function(e,t){return e.concat(t)})}},{key:"createNewStory",value:function(e){var t=this;return this.uploadImage().then(function(r){return y["default"].Mutation.Create("Story",{approver:t.data.user[0],creator:t.data.user[0],title:t.state.title,content:t.state.content,statusRaw:e,image:r,labels:t.getSelectedLabels(),typeRaw:I["default"].PUBLIC}).dispatch()})}},{key:"updateStory",value:function(e){var t=this;return this.uploadImage().then(function(r){return y["default"].Mutation.Set(t.data.story[0],s({image:r},e)).dispatch()})}},{key:"handleLabelChange",value:function(e,t,r){var n=this;this.setState({classOptions:e===x["default"].CLASS?r:this.state.classOptions,genreOptions:e===x["default"].GENRE?r:this.state.genreOptions,assignmentOptions:e===x["default"].ASSIGNMENT?r:this.state.assignmentOptions,miscOptions:e===x["default"].MISC?r:this.state.miscOptions});var o=r.map(function(e){var t=p["default"](e.value);return s({},e,{slug:t})});o.filter(function(e){var t=n.data.labels.map(function(e){return p["default"](e.name)});return-1===t.indexOf(e.slug)})}},{key:"handleTitleChange",value:function(e){this.setState({title:e})}},{key:"handleDrop",value:function(e){this.setState({files:e})}},{key:"handleContentChange",value:function(e){e.preventDefault(),this.setState({content:e.target.value.trim()})}},{key:"handleSaveDraft",value:function(e){var t=this;e.preventDefault(),this.state.saving||(this.setState({saving:!0}),this.state.storyId?this.updateStory({content:this.state.content,labels:this.getSelectedLabels()}).then(function(e){console.log("update story result",e),t.setState({saving:!1})}):(this.createNewStory(D["default"].DRAFTED).then(function(e){t.setState({storyId:e.objectId}),t.refreshQueries(),t.setState({saving:!1})}),this.setState({saveDraft:!0})))}},{key:"handleCreate",value:function(e){var t=this;e.preventDefault(),this.state.title?this.state.files?this.state.creating||(this.setState({creating:!0}),this.state.storyId?this.updateStory({content:this.state.content,labels:this.getSelectedLabels(),statusRaw:D["default"].ONGOING}).then(function(e){t.setState({creating:!1}),t.context.router.transitionTo("story",{id:t.state.storyId})}):this.createNewStory(D["default"].ONGOING).then(function(e){t.setState({creating:!1}),t.context.router.transitionTo("story",{id:e.objectId})})):this._notificationSystem.addNotification({message:"Your story must have a picture!",level:"error"}):this._notificationSystem.addNotification({message:"Your story must have a Title!",level:"error"})}},{key:"render",value:function(){var e=d["default"](this.data.labels).groupBy("typeRaw").mapValues(i).value(),t=this.data.user[0]&&this.data.user[0].smallAvatar&&this.data.user[0].smallAvatar._url;return m["default"].createElement("section",{className:"story vertical"},m["default"].createElement("div",{className:"story-container grid-block"},m["default"].createElement(S["default"],{onChange:this.handleTitleChange,onDrop:this.handleDrop})),m["default"].createElement("div",{className:"new-story-content grid-container"},m["default"].createElement("div",{className:"grid-block labels"},m["default"].createElement("div",{className:"grid-block vertical"},m["default"].createElement(P["default"],{name:"Class",value:this.state.classOptions,options:e[x["default"].CLASS],onChange:this.handleLabelChange.bind(this,x["default"].CLASS)}),m["default"].createElement(P["default"],{name:"Genre",value:this.state.genreOptions,options:e[x["default"].GENRE],onChange:this.handleLabelChange.bind(this,x["default"].GENRE)}),m["default"].createElement(P["default"],{name:"Assignment",value:this.state.assignmentOptions,options:e[x["default"].ASSIGNMENT],onChange:this.handleLabelChange.bind(this,x["default"].ASSIGNMENT)}),m["default"].createElement(P["default"],{name:"Misc",value:this.state.miscOptions,options:e[x["default"].MISC],onChange:this.handleLabelChange.bind(this,x["default"].MISC)}))),m["default"].createElement("div",{className:"new-submission vertical grid-block"},m["default"].createElement(C["default"],{placeholder:"Write the first bit (optional)",avatarUrl:t,onChange:this.handleContentChange}),m["default"].createElement("div",{className:"button-actions grid-block align-right"},m["default"].createElement("div",{className:"small-4 small-offset-1 medium alert hollow button hide"},"Cancel",m["default"].createElement("div",{className:"button-spinner alert"})),m["default"].createElement("div",{className:"small-5 small-offset-7 medium hollow button",onClick:this.handleSaveDraft},m["default"].createElement("span",{className:R["default"]({hide:this.state.saving})},"Save Draft"),m["default"].createElement("div",{className:R["default"]("button-spinner",{hide:!this.state.saving})})),m["default"].createElement("div",{className:"small-4 small-offset-1 medium success hollow button",onClick:this.handleCreate},m["default"].createElement("span",{className:R["default"]({hide:this.state.creating})},"Create"),m["default"].createElement("div",{className:R["default"]("button-spinner","success",{hide:!this.state.creating})})),m["default"].createElement("div",null,m["default"].createElement(w["default"],{ref:"notificationSystem"}))))))}}]),t}(q);t["default"]=O.requireAuth(L);var B=L;t.undecorated=B,L.contextTypes={router:m["default"].PropTypes.func}},447:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},u=r(95),c=n(u),d=r(448),f=n(d),p=r(453),h=n(p),m=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return a(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement("div",{className:"select-labels grid-block"},c["default"].createElement("div",{className:"grid-content shrink v-align"},this.props.name+" : "),c["default"].createElement("div",{className:"grid-content"},c["default"].createElement(f["default"],i({multi:!0,clearable:!1,placeholder:"",valueComponent:h["default"]},this.props))))}}]),t}(c["default"].Component);t["default"]=m,m.propTypes={allowCreate:c["default"].PropTypes.bool,options:c["default"].PropTypes.array},m.defaultProps={allowCreate:!1},e.exports=t["default"]},453:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.blockEvent=this.blockEvent.bind(this),this.handleOnRemove=this.handleOnRemove.bind(this)}return a(t,e),i(t,[{key:"blockEvent",value:function(e){e.stopPropagation()}},{key:"handleOnRemove",value:function(e){this.props.disabled||this.props.onRemove(e)}},{key:"render",value:function(){var e=this.props.option.label;return this.props.renderer&&(e=this.props.renderer(this.props.option)),this.props.onRemove||this.props.optionLabelClick?(this.props.optionLabelClick&&(e=u["default"].createElement("a",{className:"Select-item-label__a",onMouseDown:this.blockEvent,onTouchEnd:this.props.onOptionLabelClick,onClick:this.props.onOptionLabelClick},e)),u["default"].createElement("div",{className:"select-item"},u["default"].createElement("span",{className:"select-label"},e),u["default"].createElement("span",{className:"select-icon",onMouseDown:this.blockEvent,onClick:this.handleOnRemove,onTouchEnd:this.handleOnRemove},"×"))):u["default"].createElement("div",{className:"Select-value"},e)}}]),t}(u["default"].Component);c.propTypes={disabled:u["default"].PropTypes.bool,onOptionLabelClick:u["default"].PropTypes.func,onRemove:u["default"].PropTypes.func,option:u["default"].PropTypes.object.isRequired,optionLabelClick:u["default"].PropTypes.bool,renderer:u["default"].PropTypes.func},t["default"]=c,e.exports=t["default"]},454:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;
var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},l=r(95),u=n(l),c=r(434),d=n(c),f=r(455),p=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={image:null,title:""},this.onDrop=this.onDrop.bind(this),this.titleGeneratorClick=this.titleGeneratorClick.bind(this),this.titleCreate=this.titleCreate.bind(this)}return a(t,e),i(t,[{key:"onDrop",value:function(e){this.setState({image:e[0]}),this.props.onDrop(e)}},{key:"titleGeneratorClick",value:function(){var e=f.randomTitleGenerator();this.setState({title:e}),this.props.onChange(e)}},{key:"titleCreate",value:function(e){this.setState({title:e.target.value}),this.props.onChange(e.target.value)}},{key:"render",value:function(){var e={position:"absolute",top:0,left:0,bottom:0,right:0},t=this.state.image&&this.state.image.preview;return u["default"].createElement("div",{className:"grid-container"},u["default"].createElement("div",{className:"vertical grid-block"},u["default"].createElement("div",{className:"story-header editable"},u["default"].createElement(d["default"],{onDrop:this.onDrop,style:e},u["default"].createElement("img",{className:"upload-icon",src:r(436)}),u["default"].createElement("img",{className:"preview",src:t})),u["default"].createElement("div",{className:"gradient"}),u["default"].createElement("a",{onClick:this.titleGeneratorClick},u["default"].createElement("img",{className:"story-slotmachine-icon",src:r(456)})),u["default"].createElement("input",{className:"story-title",name:"story-title",type:"text",placeholder:"Title",value:this.state.title,onChange:this.titleCreate}))))}}]),t}(u["default"].Component);t["default"]=p,e.exports=t["default"]},455:function(e,t){"use strict";function r(){function e(){var e=0;switch(e=Math.floor(41*Math.random())){case 0:return f[P]+" "+c[O];case 1:return f[P]+" "+c[O]+"s";case 2:return"The "+f[P]+" "+c[O];case 3:return"The "+f[P]+" "+c[O]+"s";case 4:return"The "+f[P]+" "+c[O]+"'s "+c[_];case 5:return"The "+f[P]+" "+c[O]+" "+c[_];case 6:return"The "+f[P]+" "+c[O]+" "+i[S]+" the "+c[_];case 7:return d[D]+", the "+c[O]+" "+c[_];case 8:return c[O];case 9:return"The "+c[O];case 10:return c[O]+"born";case 11:return"The "+c[O]+c[_];case 12:return c[O]+" "+c[_];case 13:return c[O]+" and "+c[_];case 14:return c[O]+" and a "+c[_];case 15:return"The "+c[O]+" and the "+c[_];case 16:return c[O]+" and the "+f[P]+" "+c[_];case 17:return"The "+c[O]+" and the "+f[P]+" "+c[_];case 18:return c[O]+"less";case 19:return c[O]+"'s "+f[P]+" "+c[_];case 20:return c[O]+"'s "+c[_];case 21:return c[O]+"s and "+c[_]+"s ";case 22:return c[O]+" of "+c[_];case 23:return c[O]+" of "+f[P]+" "+c[_];case 24:return c[O]+" of the "+c[_];case 25:return"The "+c[O]+" of "+c[_];case 26:return"The "+c[O]+" of "+d[D];case 26:return c[O]+" "+i[S]+" the "+c[_];case 27:return"The "+c[O]+" "+i[S]+" the "+c[_];case 28:return"The "+c[O]+" "+i[S];case 29:return"The "+c[O]+" "+u[A]+" "+f[P];case 30:return"The "+c[O]+" "+c[_];case 31:return"The "+c[O]+"-"+c[_];case 32:return"The "+c[O]+"'s "+c[_];case 33:return"The "+c[O]+" the "+c[_]+" "+h[C];case 34:return"A "+c[O]+" "+h[C];case 35:return c[O]+" "+g[N];case 36:return i[S]+" the "+c[O];case 37:return i[S]+" the "+c[O]+" and the "+c[_];case 38:return i[S]+" the "+f[P]+" "+c[O];case 39:return"The "+h[C]+" "+c[O];case 40:return"The "+g[N]+" "+c[O]}}function t(){k=Math.floor(Math.random()*l.length),O=Math.floor(Math.random()*c.length),_=Math.floor(Math.random()*c.length),D=Math.floor(Math.random()*d.length),P=Math.floor(Math.random()*f.length),E=Math.floor(Math.random()*f.length),C=Math.floor(Math.random()*h.length),j=Math.floor(Math.random()*v.length),S=Math.floor(Math.random()*i.length),T=Math.floor(Math.random()*s.length),x=Math.floor(Math.random()*p.length),N=Math.floor(Math.random()*g.length),I=Math.floor(Math.random()*m.length),A=Math.floor(Math.random()*u.length)}function r(){return o(),a(),n(),t(),e()}function n(){d=b}function o(){c=w}function a(){f=y}var i=new Array("Above","Across","After","At","Beyond","For","From","In","Into","On","Out Of","With","Without","Under"),s=new Array("Could","Could Not","Must","Must Not","Shall","Shall Not","Should","Should Not","That","That Never","Would","Would Not"),l=new Array("a","the"),u=new Array("Is","Was","Will Be","Was Not","Is Not","Will Not Be"),c=new Array("Noun"),d=new Array("Names"),f=new Array("Adjective"),p=new Array("Accuse","Burn","Be","Borrow","Build","Close","Conquer","Chain","Chase","Come","Change","Die","Drag","Dream","Embrace","Forget","Fall","Fight","Go","Hang","Have","Kill","Live","Laugh","Lie","Murder","Own","Reveal","Rise","Run","Ride","Stop","Save","See","Speak","Steal","Seduce","Scream","Trick","Weave","Whisper","Weep"),h=new Array("Accused","Burned","Borrowed","Built","Closed","Conquered","Came","Chained","Changed","Chased","Died","Dragged","Dreamed","Embraced","Forgot","Fell","Fought","Had","Hung","Killed","Lived","Laughed","Lied","Murdered","Owned","Revealed","Rose","Ran","Rode","Stopped","Saved","Seduced","Spoke","Stole","Saw","Screamed","Tricked","Weaved","Whispered","Went","Wept"),m=new Array("Accuser","Burner","Borrower","Builder","Closer","Conqueror","Changer","Chaser","Dreamer","Embracer","Fighter","Killer","Laugher","Liar","Murderer","Owner","Revealer","Runner","Rider","Saviour","Seducer","Speaker","Screamer","Trickster","Weaver","Whisperer"),v=new Array("Accuses","Burns","Borrows","Builds","Closes","Conquers","Comes","Chains","Changes","Chases","Drags","Dreams","Dies","Embraces","Forgets","Falls","Fights","Lives","Laughs","Lies","Murders","Owns","Reveals","Rises","Runs","Rides","Stops","Saves","Seduces","Speaks","Steals","Sees","Screams","Weaves","Whispers","Weeps"),g=new Array("Accusing","Burning","Borrowing","Building","Closing","Conquering","Coming","Chaining","Changing","Chasing","Dragging","Dreaming","Dying","Embracing","Forgetting","Falling","Fighting","Living","Laughing","Lying","Murdering","Owning","Revealing","Rising","Running","Riding","Stopping","Saving","Seducing","Stealing","Seeing","Screaming","Weaving","Whispering","Weeping"),y=new Array("Accidental","Accusing","Amazing","Automatic","Aztec","Black","Bound","Broken","Birthday","Bangkok","Bad","Big","Black","Bloodstained","Blue","Cold","Closing","Cold","Conquering","Corrupt","Cosmic","Consuming","Closed","Clutching","Crystal","Dead","Damned","Dancing","Dark","Daylight","Dead-Alive","Dear","Delicate","Destroying","Different","Dimensional","Eastern","Edible","English","Eternal","Evening","Eight","Eighth","Flaming","Fallen","Final","Flapping","Forever","Forty","Frozen","First","Four","Fourth","Five","Fifth","Golden","Gray","Great","Gray","Great","Green","Grey","Hairy","Hidden","Infernal","Invisible","Imaginary","Imitation","Iron","Lost","Last","Lead","Living","Logical","Mortal","Mysterious","Mad","Midnight","Missing","Moonlit","Muddy","My","Northern","New","Next","Noble","Nomadic","Nine","Ninth","One","Orange","Path","Purple","Perfect","Poor","Poisoned","Priceless","Red","Reckless","Radiant","Raw","Scarlet","Secret","Seventh","Southern","Sealed","Savage","Second","Shattered","Silent","Silver","Six","Spare","Special","Strange","Steel","Supreme","Sixth","Seven","Seventh","Third","Tragic","Twenty","Two","Three","Ten","Tenth","Underwater","Unknown","Ultimate","Unrequited","Urban","Uncommon","Unfaithful","Unseen","Variable","Velvet","Violet","Western","Wicked","Weird","Wayward","Weaving","Whispering","Yellow","Fae","Magic","Dead","Dark","Darkness","Gothic","Grim","Grisly","Hideous","Haunting","Phantom","Undead","Vampiric","Atomic","Quantum","Space","Brass","Clockwork","Copper","Electric","Extraordinary","Equation","Ether","Gilded","Galvanic","Impossible","Martian","Mechanical","Sky","Steampunk","Steam-Powered","Tarnished","Victorian"),b=new Array("Alexander","Angelo","Barbara","Caesar","Cleopatra","Charles","David","Dorothy","Da Vinci","Elizabeth","Einstein","Hercules","Hamlet","Hitler","Houdini","James","Jeeves","Jennifer","Jesus","John","Joseph","Jenny Everywhere","Joan of Arc","Johnny","Linda","Long John Silver","Margaret","Maria","Mary","Michael","Marquis de Sade","Mozart","Napoleon","Patricia","Robin Hood","Oona","Satan","Susan","Shakespeare","Thog","Thomas","William","Achilles","Aladdin","Ali Baba","Alice","Baron Munchausen","Bluebeard","Boudicia","Cinderella","Captain Hook","King Arthur","Lancelot","Merlin","Cthulhu","Dracula","Faust","Frankenstein","Hastur","Herbert West","Lovecraft","Allan Quartermain","Captain Nemo","Doctor Jeckyl","Frankenstein","Queen Victoria","Sherlock Holmes","Tarzan","The Artful Dodger","Tom Sawyer","Tesla","Zorro"),w=new Array("Adventure","Affair","Africa","Age","Air","Angel","Ape","Apocalypse","Armageddon","Ash","Avenger","Awakening","Basket","Bat","Beard","Beast","Bird","Birthday Present","Bishop","Black","Blade","Blood","Body","Bomb","Book","Bridge","Blog","Blogger","Blonde","Bloodline","Bookkeeper","Bones","Boy","Brain","Bridge","Bronze","Brother","Bullet","Bus","Butterfly","Cabin","Cabinet","Call","Canary","Cape","Card","Carnival","Case","Cave","Cavern","Cell","Chair","Chance","Chicago","Child","Childhood","Children","Circle","Circus","City","Claim","Club","Cloven Hoof","Coast","Cold","Comb","Compendium","Cove","Creek","Crow","Cry","Cup","Cupid","Cylinder","Daughter","Dance","Dancer","Dawn","Daylight","Day","Deception","Departed","Desert","Detective","Discovery","Doctor","Devil","Dog","Dome","Door","Drapes","Dream","Dust","Dusk","Dweller","Earth","East","Eater","Escape","Evening","Edge","Elysium","Eons","Eternity","Escape","Evolution","Exile","Express","Evil","Eye","Face","Fall","Fate","Fire","Floor","Fog","Fangs","Farm House","Fear","Feast","Feet","Fiend","Fire","Fish","Flame","Floor","Flower","Fog","Folk","Force","Fox","Game","Girl","Glass","Guard","Gambit","Garden","Gentleman","Girl","Gateway","Glory","Glass","God","Gold","Grace","Guard","Guardian","Guest","Gun","Gunfighter","Gunsmoke","Hall","Hand","Heart","Heirloom","House","Hamlet","Hare","Hate","Haunt","Health","Heaven","Heist","Hero","Hieroglyph","Highway","Hollywood","Home","Honor","Horde","Hour","Human","Iron","Idol","Inheritance","Inferno","Intention","Insect","Island","Jackal","Jailer","Jungle","Jars","Jailer","Jewels","Joan of Arc","Journey","Kiss","Key","Kitchen","Killer","Land","Law","Legion","Legionnaire","Light","Legacy","Letters","Life","Lightning","Link","Lord","Man","Master","Midnight","Moon","Moonlight","Manhattan","Manor","Manuscript","March","Mask","Memory","Men","Mesa","Metronome","Mind","Minute","Mirror","Mistletoe","Modern","Mountain","Murder","Music-Box","Mystery","Night","North","Nail","Name","Neighbor","Night","North","Nothing","Nowhere","Opportunity","Options","Orchid","Patch","Parlour","Place","Plant","Present","Pain","Paradox","Party","Patch","Path","Patrol","People","Pet","Pilgrim","Piper","Pirate","Plan","Player","Power","Prague","Priestess","Protest","Punch","Rabbit","Rat","Reply","Return","Revenge","Revolt","Revolution","Rider","Ring","River","Room","Ruler","Rule","Sea","Secret","Scar","Sky","Smith","Snake","Soul","South","Steel","Storm","Sun","Salvage","Seal","Season","Shell","Silence","Sip","Skunk","Slab","Sleep","Sleeper","Soldiers","Song","South","Spawn","Step","Stranger","Studio","Study","Suicide","Survivor","Tale","Thing","Thunder","Time","Touch","Tartarus","They","Thief","Ticket","Tiger","Toad","Tommy","Tower","Trade","Trail","Train","Treasures","Tree","Us","Vengeance","Voice","Valley","Vial","War","Wave","Well","West","Will","Wish","Wolf","Wolfhound","World","Wall","Watcher","Water","Wax","We","Web","What Waits","Wind","Window","Wings","Witch","Woodcarver","Woman","Women","Woods","Worm","Wrath","Wretched","Abbey","Amulet","Atlantis","Blade","Blight","Castle","Court","Crown","Curse","Duke","Demon","Dragon","Emperor","Empire","Faerie","Goblet","Goblins","Kingdom","King","Leviathan","Magic","Phoenix","Princess","Paladin","Queen","Quest","Sword","Sorcery","Tsar","Warlord","Abbey","Amulet","Asylum","Beast","Bite","Blade","Blight","Chain","Cemetery","Corpse","Casket","Curse","Death","Dead","Demon","Doom","Fear","Fiend","Gallows","Ghost","Ghoul","Grave","Graveyard","Hell","Horror","Incubus","Madman","Madness","Monster","Nightmare","Phantom","Prey","Reaper","Shadow","Skull","Succubus","Scream","Terror","Tomb","Tombstone","Vampire","Zombie","Alien","Captain","Comet","Equation","Future","Machine","Mars","Scientist","Science","Space","Star","Affair","Airship","Automaton","Atlantis","Captain","Caravan","Castle","Clocktower","Cog","Corset","Cowboy","Damnation","Detective","Device","Dragoon","Duke","Gentleman","Gentlewoman","Emperor","Engine","Engineer","Ether","Express","Gear","Horizon","Legacy","London","Machine","Magistrate","Mars","Nautilus","Plague","Progress","Queen","Sorcery","Steam","Timepiece","Tinkerer","Zeppelin"),k=0,O=0,_=0,P=0,E=0,C=0,j=0,S=0,T=0,x=0,N=0,I=0,A=0,D=0;return r()}Object.defineProperty(t,"__esModule",{value:!0}),t.randomTitleGenerator=r},456:function(e,t,r){e.exports=r.p+"5f3cec26aa3666688ecee25dee21033d.png"},457:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={CLASS:0,GENRE:1,ASSIGNMENT:2,MISC:3};t["default"]=r,e.exports=t["default"]},458:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={PUBLIC:0,PRIVATE:1,OPEN:2};t["default"]=r,e.exports=t["default"]},459:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={ONGOING:0,COMPLETED:1,DELETED:2,DRAFTED:3};t["default"]=r,e.exports=t["default"]}});
//# sourceMappingURL=app.e69acb9b876c8f159585.js.map